{"success":true,"payload":{"value":{"id":"a75f7f84f941","versionId":"6c919e3a859d","creatorId":"e58e0475d8e3","homeCollectionId":"23738d481ce8","title":"Google Maps with AngularDart","detectedLanguage":"en","latestVersion":"6c919e3a859d","latestPublishedVersion":"6c919e3a859d","hasUnpublishedEdits":false,"latestRev":1308,"createdAt":1487245029311,"updatedAt":1527675603280,"acceptedAt":0,"firstPublishedAt":1487844031388,"latestPublishedAt":1487844031388,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"In this article we will integrate Google Maps with an AngularDart application. The app itself will be very simple: it calculates the great…","bodyModel":{"paragraphs":[{"name":"9635","type":3,"text":"Google Maps with AngularDart","markups":[]},{"name":"8e7e","type":1,"text":"In this article we will integrate Google Maps with an AngularDart application. The app itself will be very simple: it calculates the great circle distance (the shortest distance on the surface of a sphere) between two selected markers on the map.","markups":[{"type":3,"start":133,"end":154,"href":"https://en.wikipedia.org/wiki/Great-circle_distance","title":"","rel":"","anchorType":0}]},{"name":"a9f8","type":1,"text":"Along the way you will:","markups":[]},{"name":"b7ff","type":9,"text":"Register your own Google Maps API key.","markups":[]},{"name":"99af","type":9,"text":"Create a barebones Angular web application.","markups":[]},{"name":"e416","type":9,"text":"Integrate Dart with the Google Maps JavaScript API, and handle the maps interaction.","markups":[]},{"name":"df0a","type":9,"text":"Learn some polishing tips for the Angular component.","markups":[]},{"name":"7e90","type":1,"text":"This article is roughly four times longer than the code. If you want, just go look at the complete source code and the final demo.","markups":[{"type":3,"start":99,"end":110,"href":"https://github.com/isoos/google_maps_angular_dart","title":"","rel":"","anchorType":0},{"type":3,"start":125,"end":129,"href":"https://isoos.github.io/google_maps_angular_dart/","title":"","rel":"","anchorType":0},{"type":1,"start":99,"end":110},{"type":1,"start":125,"end":129}]},{"name":"880a","type":4,"text":"Screenshot of the demo","markups":[],"layout":1,"metadata":{"id":"1*hLce2qgbJEkxjOlOr8jn9g.png","originalWidth":800,"originalHeight":500}},{"name":"04a6","type":3,"text":"Google Maps JavaScript API","markups":[]},{"name":"09d6","type":1,"text":"The Google Maps JavaScript API allows developers to embed and integrate Google Maps on their site. You can customize the displayed map’s content and handling with your own imagery, data and processing.","markups":[{"type":3,"start":4,"end":30,"href":"https://developers.google.com/maps/documentation/javascript/","title":"","rel":"","anchorType":0}]},{"name":"585e","type":1,"text":"To start developing with the Google Maps API, you must register a free API key that allows a reasonable amount of usage. As your application gets more traction, you can upgrade it to a paid plan.","markups":[]},{"name":"2be2","type":1,"text":"Visit the JavaScript API page, and at the top of the page, click GET A KEY. Create a name for your project and click CREATE AND ENABLE API:","markups":[{"type":10,"start":65,"end":74},{"type":10,"start":117,"end":138},{"type":3,"start":10,"end":29,"href":"https://developers.google.com/maps/documentation/javascript/","title":"","rel":"","anchorType":0}]},{"name":"f799","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*cPMKvi22U5csti4Dubb-4A.png","originalWidth":800,"originalHeight":304}},{"name":"103b","type":1,"text":"Your key will be enabled and ready to use in a couple of seconds:","markups":[]},{"name":"397c","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*8Opaixc6Ardgd0wYKyvKNw.png","originalWidth":800,"originalHeight":781}},{"name":"4c98","type":1,"text":"Note your API key. We’ll use it when we fetch the Maps JavaScript library:","markups":[]},{"name":"ae9f","type":8,"text":"https://maps.googleapis.com/maps/api/js?key=KEY_GOES_HERE","markups":[{"type":3,"start":0,"end":57,"href":"https://maps.googleapis.com/maps/api/js?key=KEY_GOES_HERE","title":"","rel":"","anchorType":0},{"type":1,"start":44,"end":57}]},{"name":"2a52","type":1,"text":"In JavaScript, to create a map instance and place a marker on it, we’d use the following code:","markups":[]},{"name":"a6fc","type":8,"text":"var hostElement = document.getElementById('map-id');\nvar map = new google.maps.Map(hostElement, {\n  zoom: 2,\n  center: {lat: 47.4979, lng: 19.0402}\n});\nvar marker = new google.maps.Marker({\n  position: {lat: 47.4979, lng: 19.0402},\n  map: map,\n  label: 'A'\n});","markups":[]},{"name":"9015","type":1,"text":"As you will see later, the Dart code will be very similar (with all of the added benefits of Dart).","markups":[]},{"name":"b3ad","type":3,"text":"The AngularDart Application","markups":[]},{"name":"86dd","type":1,"text":"The easiest way to get started with an AngularDart application is to follow the Get Started guide and create a new project in WebStorm or in the Community Edition of IntelliJ IDEA.","markups":[{"type":3,"start":80,"end":91,"href":"https://webdev.dartlang.org/guides/get-started","title":"","rel":"","anchorType":0},{"type":3,"start":102,"end":122,"href":"https://webdev.dartlang.org/guides/get-started#4-create-and-run-a-web-app","title":"","rel":"","anchorType":0}]},{"name":"325f","type":1,"text":"In case you are using a different editor, or you just want to follow the structure of our example code, here is the bare minimum.","markups":[]},{"name":"e978","type":1,"text":"In the pubspec file, pubspec.yaml:","markups":[{"type":10,"start":21,"end":33}]},{"name":"bb64","type":8,"text":"name: google_maps_angular_dart\nversion: 0.0.1\ndescription: Angular application with Google Maps integration","markups":[]},{"name":"ca29","type":8,"text":"environment:\n  sdk: '>=1.19.0 <2.0.0'","markups":[]},{"name":"09a2","type":8,"text":"dependencies:\n  angular2: ^2.2.0","markups":[]},{"name":"36ad","type":8,"text":"dev_dependencies:\n  dart_to_js_script_rewriter: ^1.0.1","markups":[]},{"name":"f0ed","type":8,"text":"transformers:\n- angular2:\n    platform_directives:\n      - 'package:angular2/common.dart#COMMON_DIRECTIVES'\n    platform_pipes:\n      - 'package:angular2/common.dart#COMMON_PIPES'\n    entry_points: web/main.dart\n- dart_to_js_script_rewriter","markups":[]},{"name":"fa2e","type":1,"text":"In the host page, web/index.html:","markups":[{"type":10,"start":18,"end":32}]},{"name":"ee08","type":8,"text":"<!DOCTYPE html>\n<html>\n<head>\n    <!-- other headers -->\n    <script defer src=\"main.dart\" type=\"application/dart\"></script>\n</head>\n<body>\n   <map-control></map-control>\n</body>\n</html>","markups":[{"type":1,"start":143,"end":170}]},{"name":"4690","type":1,"text":"In the app’s entry point, web/main.dart:","markups":[{"type":10,"start":26,"end":39}]},{"name":"4025","type":8,"text":"import 'package:angular2/platform/browser.dart';\nimport 'package:google_maps_angular_dart/component/map_control.dart';","markups":[]},{"name":"7c95","type":8,"text":"void main() {\n  bootstrap(MapControl);\n}","markups":[]},{"name":"2a93","type":1,"text":"In the Dart file for the <map-control> component, lib/component/map_control.dart:","markups":[{"type":10,"start":25,"end":38},{"type":10,"start":50,"end":80}]},{"name":"184f","type":8,"text":"import 'package:angular2/core.dart';","markups":[]},{"name":"d8f1","type":8,"text":"@Component(\n  selector: 'map-control',\n  template: '{{distance}}',\n)\nclass MapControl {\n  String distance = 'no distance yet';\n}","markups":[{"type":3,"start":0,"end":10,"href":"http://twitter.com/Component","title":"Twitter profile for @Component","rel":"","anchorType":0}]},{"name":"5296","type":1,"text":"The above code won’t do too much, but it is a start and you can run it by using pub serve and then opening the page in Dartium:","markups":[{"type":10,"start":80,"end":89}]},{"name":"ffaf","type":8,"text":"$ pub serve\nLoading source assets...\nLoading angular2 and dart_to_js_script_rewriter transformers...\nServing google_maps_angular_dart web on http://localhost:8080\nBuild completed successfully","markups":[{"type":3,"start":141,"end":162,"href":"http://localhost:8080","title":"","rel":"","anchorType":0}]},{"name":"6ea1","type":3,"text":"Google Maps integration","markups":[]},{"name":"0dc9","type":1,"text":"To start with the Google Maps integration, put the following script tag into your web/index.html. Notice that you need to set your API key:","markups":[{"type":10,"start":82,"end":96}]},{"name":"9de4","type":8,"text":"<script src=\"https://maps.googleapis.com/maps/api/js?key=[YOUR_KEY_HERE]\"></script>","markups":[{"type":1,"start":57,"end":72}]},{"name":"fab6","type":1,"text":"Fortunately there is a ready-to-use Google Maps Dart package on pub. Add it to your pubspec.yaml:","markups":[{"type":10,"start":84,"end":96}]},{"name":"0082","type":8,"text":"dependencies:\n  angular2: ^2.2.0\n  google_maps: ^3.0.0","markups":[{"type":1,"start":35,"end":54}]},{"name":"a128","type":1,"text":"Then run pub get to download the package.","markups":[{"type":10,"start":9,"end":16}]},{"name":"ea45","type":1,"text":"We need to create a host element for the map area in our component template. We will start with basic styling, and use the #mapArea anchor to identify the element in the next step:","markups":[{"type":10,"start":123,"end":131}]},{"name":"23f5","type":8,"text":"<div style=\"width: 300px; height: 300px\" #mapArea>[map]</div>","markups":[{"type":1,"start":42,"end":49}]},{"name":"a5a4","type":1,"text":"In the component code, we can inject the element’s reference as follows:","markups":[]},{"name":"a0a5","type":8,"text":"@ViewChild('mapArea')\nElementRef mapAreaRef;","markups":[]},{"name":"046c","type":1,"text":"The element reference is not available immediately after the MapControl class has been created, so we need to hook into Angular’s lifecycle callbacks:","markups":[]},{"name":"40d1","type":8,"text":"class MapControl implements AfterViewInit {","markups":[{"type":1,"start":17,"end":41}]},{"name":"45d0","type":8,"text":"  @override\n  void ngAfterViewInit() {\n    // mapAreaRef is available now\n  }\n}","markups":[{"type":1,"start":0,"end":38},{"type":1,"start":76,"end":77}]},{"name":"b189","type":1,"text":"Tip: use the IDE to write the method bodies for you. For example, in IntelliJ, hit CMD + N (or CTRL + N), and select the “Implement Methods…” menu item. It will allow you to select the missing methods and you need to worry only about the method body:","markups":[{"type":10,"start":83,"end":90},{"type":10,"start":95,"end":103}]},{"name":"b486","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*V9N-6dAV8vZjuT6cI1Sftw.png","originalWidth":634,"originalHeight":509}},{"name":"7e32","type":1,"text":"As the following code shows, the Dart API is very similar to to the JavaScript one, with the added benefit that it is type checked.","markups":[]},{"name":"4901","type":8,"text":"class MapControl implements AfterViewInit {\n  // ...","markups":[]},{"name":"17b7","type":8,"text":"@override\n  void ngAfterViewInit() {\n    GMap map = new GMap(\n        mapAreaRef.nativeElement,\n        new MapOptions()\n          ..zoom = 2\n          ..center = new LatLng(47.4979, 19.0402)\n                             // ^ Budapest, Hungary\n        );\n    new Marker(new MarkerOptions()\n      ..map = map\n      ..position = new LatLng(47.4979, 19.0402)\n      ..label = 'A');\n  }\n}","markups":[]},{"name":"fc68","type":1,"text":"One example of the benefits of type checking is that when we listen for events, we don’t need to think about how to access properties. For example, the IDE can help us find the MouseEvent property (latLng) that holds the location of the marker.","markups":[{"type":10,"start":198,"end":204}]},{"name":"d551","type":1,"text":"Here is the code that reacts to dragging the marker:","markups":[]},{"name":"4ae4","type":8,"text":"    marker.onDrag.listen((MouseEvent event) {\n      print('New location while dragging: ${event.latLng}');\n    });","markups":[]},{"name":"bfcd","type":1,"text":"Capturing click events on the map is similar:","markups":[]},{"name":"a0c8","type":8,"text":"    map.onClick.listen((MouseEvent event) {\n      print('User clicked on position: ${event.latLng}');\n    });","markups":[]},{"name":"d91a","type":3,"text":"Putting it together","markups":[]},{"name":"a7b7","type":1,"text":"To measure the distance between two coordinates, we will track two markers on the map. The user shall be able to drag the markers around or place them by clicking.","markups":[]},{"name":"c43d","type":1,"text":"We need to keep track of the map and the markers as fields:","markups":[]},{"name":"74ad","type":8,"text":"  GMap _map;\n  Marker _aMarker;\n  Marker _bMarker;","markups":[]},{"name":"3a8b","type":1,"text":"Update the initialization to store the map reference and to register a click handler. The click handler updates the marker positions and the distance:","markups":[]},{"name":"5574","type":8,"text":"  @override\n  void ngAfterViewInit() {\n    _map = new GMap(\n        mapAreaRef.nativeElement,\n        new MapOptions()\n          ..zoom = 2\n          ..center = new LatLng(47.4979, 19.0402)\n                             // ^ Budapest, Hungary\n        );\n    _map.onClick.listen((MouseEvent event) {\n      _updatePosition(event.latLng);\n      _updateDistance();\n    });\n  }","markups":[{"type":1,"start":43,"end":47},{"type":1,"start":257,"end":269},{"type":1,"start":298,"end":319},{"type":1,"start":341,"end":356}]},{"name":"a77d","type":1,"text":"Here is the code for the first part of the click handler:","markups":[]},{"name":"e001","type":8,"text":"  void _updatePosition(LatLng position) {\n    if (_aMarker == null) {\n      _aMarker = _createMarker(_map, 'A', position);\n    } else if (_bMarker == null) {\n      _bMarker = _createMarker(_map, 'B', position);\n    } else {\n      _aMarker.position = _bMarker.position;\n      _bMarker.position = position;\n    }\n  }","markups":[]},{"name":"3303","type":1,"text":"The code for marker instantiation is similar to the earlier example:","markups":[]},{"name":"4106","type":8,"text":"  Marker _createMarker(GMap map, String label, LatLng position) {\n    final Marker marker = new Marker(new MarkerOptions()\n      ..map = map\n      ..draggable = true\n      ..label = label\n      ..position = position);\n    marker.onDrag.listen((MouseEvent event) {\n      _updateDistance();\n    });\n    return marker;\n  }","markups":[]},{"name":"2c17","type":1,"text":"With the help of utility functions from dart:math, we are able to crunch through the mathematics of the great circle distance calculation, and set the value in our distance field:","markups":[{"type":10,"start":40,"end":49},{"type":10,"start":164,"end":172}]},{"name":"bd4f","type":8,"text":"  /// Radius of the earth in km.\n  const int radiusOfEarth = 6371;","markups":[]},{"name":"47d8","type":8,"text":"double _toRadian(num degree) => degree * PI / 180.0;","markups":[]},{"name":"035b","type":8,"text":"void _updateDistance() {\n    if (_aMarker == null || _bMarker == null) return;\n    LatLng a = _aMarker.position;\n    LatLng b = _bMarker.position;\n    double dLat = _toRadian(b.lat - a.lat);\n    double sLat = pow(sin(dLat / 2), 2);\n    double dLng = _toRadian(b.lng - a.lng);\n    double sLng = pow(sin(dLng / 2), 2);\n    double cosALat = cos(_toRadian(a.lat));\n    double cosBLat = cos(_toRadian(b.lat));\n    double x = sLat + cosALat * cosBLat * sLng;\n    double d = 2 * atan2(sqrt(x), sqrt(1 - x)) * radiusOfEarth;\n    distance = '${d.round()} km';\n  }","markups":[]},{"name":"e4e7","type":1,"text":"Have you ever wondered how far do you live from a relative, a famous location or a landmark? It is time to try out the application and check it for yourself. It turns out that my home is 9815 km from Google Headquarters in Mountain View:","markups":[]},{"name":"47e3","type":4,"text":"The distance between Googleplex in Mountain View, California and the author’s home in Budapest, Hungary","markups":[],"layout":1,"metadata":{"id":"1*AOtq_2d-f5cETtXb-ixzYA.png","originalWidth":800,"originalHeight":499}},{"name":"2f0a","type":3,"text":"Polishing the application","markups":[]},{"name":"6e76","type":1,"text":"The Google Maps integration in our Angular app is complete at this point. We are listening and reacting to map events and creating objects on the map. In this last section we will implement features that add a nice finish for our demo.","markups":[]},{"name":"32b1","type":13,"text":"Separate template and style","markups":[]},{"name":"d017","type":1,"text":"It is a good practice to put complex UI template in a separate .html file. We can do the same with CSS styles:","markups":[]},{"name":"c85d","type":8,"text":"@Component(\n    selector: 'map-control',\n    templateUrl: 'map_control.html',\n    styleUrls: const <String>['map_control.css'])\nclass MapControl implements AfterViewInit {","markups":[]},{"name":"be2e","type":1,"text":"The map element has a CSS class, map-area:","markups":[]},{"name":"8813","type":8,"text":"<div class=\"map-area\" #mapArea>[map]</div>","markups":[]},{"name":"2322","type":1,"text":"Our CSS file can be as simple as this:","markups":[]},{"name":"768c","type":8,"text":".map-area {\n  width: 500px;\n  height: 400px;\n  margin: 10px;\n}","markups":[]},{"name":"dc06","type":13,"text":"Handling the unit of distance","markups":[]},{"name":"eea6","type":1,"text":"Some people are fluent in km ⟷ miles conversions, but the rest of us would like a dropdown where we can select the distance unit. In the HTML template the dropdown can be a simple <SELECT> element with a model binding to the unit field.","markups":[{"type":10,"start":180,"end":188},{"type":10,"start":225,"end":229}]},{"name":"c8d6","type":8,"text":"<label>Unit:</label>\n<select [(ngModel)]=\"unit\">\n  <option value=\"km\">km</option>\n  <option value=\"miles\">miles</option>\n</select>","markups":[{"type":1,"start":42,"end":46}]},{"name":"aa09","type":1,"text":"In the Dart code, we want to store the unit and to update the distance whenever the unit is updated:","markups":[]},{"name":"1fd3","type":8,"text":"String _unit = 'km';","markups":[]},{"name":"8741","type":8,"text":"String get unit => _unit;","markups":[{"type":1,"start":0,"end":15}]},{"name":"c0ab","type":8,"text":"set unit(String value) {\n  _unit = value;\n  _updateDistance();\n}","markups":[{"type":1,"start":0,"end":22}]},{"name":"1bec","type":1,"text":"And don’t forget to update the previously hardcoded km in the distance calculation:","markups":[{"type":10,"start":52,"end":54}]},{"name":"fdba","type":8,"text":"    /// Const value to convert from km to miles.\n    const double milesPerKm = 0.621371;","markups":[]},{"name":"f233","type":8,"text":"    // ... same code as earlier\n    if (unit == 'miles') {\n      d *= milesPerKm;\n    }\n    distance = '${d.round()} $unit';","markups":[]},{"name":"518f","type":13,"text":"Formatting the coordinates","markups":[]},{"name":"2ce6","type":1,"text":"What if we are interested in publishing the position of our markers? The easiest way would be to expose the position values in Dart, so we can use {{a}} and {{b}} in our template:","markups":[{"type":10,"start":147,"end":152},{"type":10,"start":157,"end":162}]},{"name":"cc26","type":8,"text":"  // Expose the position values.\n  LatLng get a => _aMarker?.position;\n  LatLng get b => _bMarker?.position;","markups":[]},{"name":"fc63","type":1,"text":"The template can hide the label when the marker is not initialized yet, preventing potential issues with null values:","markups":[]},{"name":"5af9","type":8,"text":"  <div *ngIf=\"a != null\">A: {{a}}</div>\n  <div *ngIf=\"b != null\">B: {{b}}</div>","markups":[]},{"name":"d7ce","type":1,"text":"However, {{a}} would translate to calling LatLng.toString(), and it would give us two really long double values, whereas a few digits would be just fine. One solution is to use pipes in the template:","markups":[{"type":10,"start":9,"end":14},{"type":10,"start":42,"end":59}]},{"name":"e048","type":8,"text":"<div *ngIf=\"a != null\">A: {{a.lat | number : '1.4-4'}}, {{a.lng | number : '1.4-4'}}</div>\n<div *ngIf=\"b != null\">B: {{b.lat | number : '1.4-4'}}, {{b.lng | number : '1.4-4'}}</div>","markups":[]},{"name":"39a1","type":1,"text":"The template syntax guide suggests placing that logic in the controller class, for better testing:","markups":[{"type":3,"start":4,"end":25,"href":"https://webdev.dartlang.org/angular/guide/template-syntax","title":"","rel":"","anchorType":0}]},{"name":"2b6f","type":8,"text":"  /// Formatted position of the 'A' marker.\n  String get aPosition => _formatPosition(a);","markups":[{"type":1,"start":57,"end":66}]},{"name":"c8b5","type":8,"text":"  /// Formatted position of the 'B' marker.\n  String get bPosition => _formatPosition(b);","markups":[{"type":1,"start":57,"end":66}]},{"name":"2861","type":8,"text":"  String _formatPosition(LatLng pos) {\n    if (pos == null) return null;\n    return '${pos.lat.toStringAsFixed(4)}, ' \n        '${pos.lng.toStringAsFixed(4)}';\n  }","markups":[]},{"name":"3de2","type":1,"text":"With that, the template can be much simpler:","markups":[]},{"name":"ad21","type":8,"text":"<div *ngIf=\"a != null\">A: {{aPosition}}</div>\n<div *ngIf=\"b != null\">B: {{bPosition}}</div>","markups":[{"type":1,"start":28,"end":37},{"type":1,"start":74,"end":83}]},{"name":"0203","type":13,"text":"Clean up the template","markups":[]},{"name":"9311","type":1,"text":"As a last step, move all of the remaining code parts from the template to the controller:","markups":[]},{"name":"1640","type":8,"text":"  /// Whether the 'A' marker's positions should be shown\n  bool get showA => a != null;","markups":[{"type":1,"start":68,"end":73}]},{"name":"e6ab","type":8,"text":"  /// Whether the 'B' marker's positions should be shown\n  bool get showB => b != null;","markups":[{"type":1,"start":68,"end":73}]},{"name":"5b76","type":8,"text":"  /// Whether the 'distance' label should be shown\n  bool get showDistance => distance != null;","markups":[{"type":1,"start":62,"end":74}]},{"name":"214c","type":1,"text":"Doing so, the template references only the getters:","markups":[]},{"name":"acb1","type":8,"text":"<div *ngIf=\"showA\">A: {{aPosition}}</div>\n<div *ngIf=\"showB\">B: {{bPosition}}</div>","markups":[{"type":1,"start":12,"end":17},{"type":1,"start":54,"end":59}]},{"name":"04c8","type":8,"text":"<p *ngIf=\"showDistance\">\n  Distance: {{distance}}<br/>\n</p>","markups":[{"type":1,"start":10,"end":22}]},{"name":"1e55","type":3,"text":"Closing notes","markups":[]},{"name":"888d","type":1,"text":"As you can see, implementing two-way integration with Google Maps is easy: the source code is clean and readable. With the full support of the Dart toolchain, it is easily extensible, without ever worrying about what we may break at other places.","markups":[]},{"name":"82f8","type":1,"text":"As an exercise for the reader, you can add heatmap visualization to the map using the same API in Dart. Check out the google_maps package for all of the possibilities.","markups":[{"type":3,"start":43,"end":64,"href":"https://developers.google.com/maps/documentation/javascript/earthquakes#heatmaps","title":"","rel":"","anchorType":0},{"type":3,"start":118,"end":129,"href":"https://pub.dartlang.org/packages/google_maps","title":"","rel":"","anchorType":0}]}],"sections":[{"name":"228e","startIndex":0}]},"postDisplay":{"coverless":true}},"virtuals":{"statusForCollection":"APPROVED","allowNotes":true,"previewImage":{"imageId":"1*hLce2qgbJEkxjOlOr8jn9g.png","filter":"","backgroundSize":"","originalWidth":800,"originalHeight":500,"strategy":"resample","height":0,"width":0},"wordCount":1894,"imageCount":5,"readingTime":7.9805031446540875,"subtitle":"In this article we will integrate Google Maps with an AngularDart application. The app itself will be very simple: it calculates the great…","userPostRelation":{"userId":"8b6a7f6f197d","postId":"a75f7f84f941","readAt":0,"readLaterAddedAt":0,"votedAt":0,"collaboratorAddedAt":0,"notesAddedAt":0,"subscribedAt":0,"lastReadSectionName":"","lastReadVersionId":"","lastReadAt":0,"lastReadParagraphName":"","lastReadPercentage":0,"viewedAt":0,"presentedCountInResponseManagement":0,"clapCount":0,"seriesUpdateNotifsOptedInAt":0,"queuedAt":0,"seriesFirstViewedAt":0,"presentedCountInStream":2,"seriesLastViewedAt":0,"audioProgressSec":0},"publishedInCount":1,"usersBySocialRecommends":[],"noIndex":false,"recommends":24,"isBookmarked":false,"tags":[{"slug":"web-development","name":"Web Development","postCount":220572,"metadata":{"postCount":220572,"coverImage":{"id":"1*FUnkPsjtrLpA2utqspWsWg.jpeg","originalWidth":1792,"originalHeight":1024,"isFeatured":true}},"type":"Tag"},{"slug":"dartlang","name":"Dartlang","postCount":921,"metadata":{"postCount":921,"coverImage":{"id":"1*HNqQFQ2hdhAgjew1pIMqXA.png","originalWidth":2752,"originalHeight":1536,"isFeatured":true}},"type":"Tag"},{"slug":"dart","name":"Dart","postCount":13858,"metadata":{"postCount":13858,"coverImage":{"id":"1*rQugDrmwFFsEDL_CqSBJNw.png","originalWidth":1536,"originalHeight":1024,"isFeatured":true}},"type":"Tag"},{"slug":"javascript","name":"JavaScript","postCount":252158,"metadata":{"postCount":252158,"coverImage":{"id":"1*xqni95gWZ1hGKjt28SbpKA.png","originalWidth":1536,"originalHeight":1024}},"type":"Tag"},{"slug":"google-maps","name":"Google Maps","postCount":2480,"metadata":{"postCount":2480,"coverImage":{"id":"1*4IIfZMDtzpzBsPFs0RGaJw.png","originalWidth":1536,"originalHeight":1024,"isFeatured":true}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":2,"links":{"entries":[],"version":"0.3","generatedAt":1487844032388},"isLockedPreviewOnly":false,"metaDescription":"","totalClapCount":37,"sectionCount":1,"readingList":0,"topics":[{"topicId":"63c6f1f93ee","slug":"javascript","createdAt":1493945704961,"deletedAt":0,"image":{"id":"1*5UyyDJ1ESD11yQNd1UVAaQ@2x.jpeg","originalWidth":5472,"originalHeight":3648},"name":"Javascript","description":"An ode to code.","relatedTopics":[],"visibility":1,"relatedTags":[],"relatedTopicIds":[],"seoTitle":"Javascript News and Articles — Medium","type":"Topic"}]},"coverless":true,"slug":"google-maps-with-angulardart","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"google-maps-with-angulardart-a75f7f84f941","previewContent":{"bodyModel":{"paragraphs":[{"name":"9635","type":3,"text":"Google Maps with AngularDart","markups":[],"alignment":1},{"name":"8e7e","type":1,"text":"In this article we will integrate Google Maps with an AngularDart application. The app itself will be very simple: it calculates the great circle distance (the shortest distance on the surface of a sphere) between two selected markers on the map.","markups":[{"type":3,"start":133,"end":154,"href":"https://en.wikipedia.org/wiki/Great-circle_distance","title":"","rel":"","anchorType":0}],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false,"subtitle":"In this article we will integrate Google Maps with an AngularDart application. The app itself will be very simple: it calculates the great…"},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://blog.dart.dev/google-maps-with-angulardart-a75f7f84f941","approvedHomeCollectionId":"23738d481ce8","isNewsletter":false,"newsletterId":"","webCanonicalUrl":"https://blog.dart.dev/google-maps-with-angulardart-a75f7f84f941","mediumUrl":"https://blog.dart.dev/google-maps-with-angulardart-a75f7f84f941","migrationId":"","notifyFollowers":true,"notifyTwitter":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"audioVersionDurationSec":0,"sequenceId":"","isEligibleForRevenue":false,"isBlockedFromHightower":false,"deletedAt":0,"lockedPostSource":0,"hightowerMinimumGuaranteeStartsAt":0,"hightowerMinimumGuaranteeEndsAt":0,"featureLockRequestAcceptedAt":0,"mongerRequestType":1,"layerCake":0,"socialTitle":"","socialDek":"","editorialPreviewTitle":"","editorialPreviewDek":"","curationEligibleAt":0,"isProxyPost":false,"proxyPostFaviconUrl":"","proxyPostProviderName":"","proxyPostType":0,"isSuspended":false,"isLimitedState":false,"seoTitle":"","previewContent2":{"bodyModel":{"paragraphs":[{"name":"9635","type":3,"text":"Google Maps with AngularDart","markups":[]},{"name":"8e7e","type":1,"text":"In this article we will integrate Google Maps with an AngularDart application. The app itself will be very simple: it calculates the great circle distance (the shortest distance on the surface of a sphere) between two selected markers on the map.","markups":[{"type":3,"start":133,"end":154,"href":"https://en.wikipedia.org/wiki/Great-circle_distance","title":"","rel":"","anchorType":0}]},{"name":"a9f8","type":1,"text":"Along the way you will:","markups":[]},{"name":"b7ff","type":9,"text":"Register your own Google…","markups":[]}],"sections":[{"name":"228e","startIndex":0}]},"isFullContent":false,"subtitle":"In this article we will integrate Google Maps with an AngularDart application. The app itself will be very simple: it calculates the great…"},"cardType":0,"isDistributionAlertDismissed":false,"isShortform":false,"shortformType":0,"responsesLocked":false,"isLockedResponse":false,"isPublishToEmail":false,"responseDistribution":0,"isMarkedPaywallOnly":false,"type":"Post"},"mentionedUsers":[],"collaborators":[{"user":{"userId":"fe67f3a27347","name":"Kathy Walrath","username":"kathyw_39223","createdAt":1479149074481,"imageId":"0*OWxJ0V46ratF_z-r.","backgroundImageId":"","bio":"I write Dart docs! https://dart.dev","twitterScreenName":"","allowNotes":1,"mediumMemberAt":0,"isWriterProgramEnrolled":true,"isSuspended":false,"isMembershipTrialEligible":true,"facebookDisplayName":"","optInToIceland":true,"userFlags":[2],"hasCompletedProfile":false,"userDismissableFlags":[1,2,5,8,12],"hasSeenIcelandOnboarding":false,"postSubscribeMembershipUpsellShownAt":0,"languageCode":"en-us","type":"User"},"state":"visible"}],"hideMeter":false,"shareKey":"15ddc5ae44c533523df200c7dfcc3cdc","collectionUserRelations":[{"collectionId":"23738d481ce8","userId":"8b6a7f6f197d","role":"ADMIN"},{"collectionId":"4da7dfd21a33","userId":"8b6a7f6f197d","role":"WRITER"},{"collectionId":"24d8f4fa8912","userId":"8b6a7f6f197d","role":"WRITER"}],"mode":"canEdit","references":{"User":{"e58e0475d8e3":{"userId":"e58e0475d8e3","name":"István Soós","username":"isoos","createdAt":1487244046250,"imageId":"0*QZ-3K0uwuU5GQA3B.","backgroundImageId":"","bio":"software engineer","twitterScreenName":"","socialStats":{"userId":"e58e0475d8e3","usersFollowedCount":7,"usersFollowedByCount":98,"type":"SocialStats"},"social":{"userId":"8b6a7f6f197d","targetUserId":"e58e0475d8e3","type":"Social"},"allowNotes":1,"mediumMemberAt":0,"isWriterProgramEnrolled":true,"isSuspended":false,"isMembershipTrialEligible":true,"facebookDisplayName":"","optInToIceland":true,"hasCompletedProfile":false,"hasSeenIcelandOnboarding":false,"postSubscribeMembershipUpsellShownAt":0,"languageCode":"en-gb","type":"User"}},"Collection":{"23738d481ce8":{"id":"23738d481ce8","name":"Dart","slug":"dartlang","tags":["MOBILE APP DEVELOPMENT","WEB DEVELOPMENT","DART","PROGRAMMING LANGUAGES","SOFTWARE DEVELOPMENT"],"creatorId":"a6d788faa5e5","description":"Dart is an approachable, portable, and productive language for high-quality apps on any platform. Learn more at https://dart.dev.","shortDescription":"Dart is an approachable, portable, and productive language…","image":{"imageId":"1*uWy1Ajpd0oTUQBO9WBHoQg@2x.png","filter":"","backgroundSize":"","originalWidth":1001,"originalHeight":1001,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":14031,"activeAt":1762974121956},"virtuals":{"permissions":{"canPublish":true,"canPublishAll":true,"canRepublish":true,"canRemove":true,"canManageAll":true,"canSubmit":true,"canEditPosts":true,"canAddWriters":true,"canViewStats":true,"canSendNewsletter":true,"canViewLockedPosts":true,"canViewCloaked":true,"canEditOwnPosts":true,"canBeAssignedAuthor":true,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false,"canLockOwnPostsForMediumMembers":false,"canViewNewsletterV2Stats":true,"canCreateNewsletterV3":true},"isSubscribed":true,"isEnrolledInHightower":false,"isEligibleForHightower":false,"isSubscribedToCollectionEmails":false,"isMuted":false,"canToggleEmail":false,"isWriter":false},"logo":{"imageId":"1*NRb7RFVWJQFzY47j3v4U7Q.png","filter":"","backgroundSize":"","originalWidth":400,"originalHeight":154,"strategy":"resample","height":0,"width":0},"twitterUsername":"dart_lang","publicEmail":"medium@dartlang.org","domain":"blog.dart.dev","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Dart","description":"An approachable, portable, and productive language for high-quality apps on any platform","backgroundImage":{},"logoImage":{"id":"1*knHF_qpxdtS8h0Z8EeqowA@2x.png","originalWidth":1080,"originalHeight":1080,"alt":"Dart"},"alignment":2,"layout":5}},{"type":1,"postListMetadata":{"source":1,"layout":4,"number":7,"postIds":[]}},{"type":1,"postListMetadata":{"source":1,"layout":5,"number":15,"postIds":[]}}],"tintColor":"#FF042B59","lightText":true,"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF6588BA","point":0},{"color":"#FF607EAB","point":0.1},{"color":"#FF59759C","point":0.2},{"color":"#FF536B8E","point":0.3},{"color":"#FF4C617F","point":0.4},{"color":"#FF445670","point":0.5},{"color":"#FF3D4B61","point":0.6},{"color":"#FF344052","point":0.7},{"color":"#FF2B3442","point":0.8},{"color":"#FF212832","point":0.9},{"color":"#FF161A22","point":1}],"backgroundColor":"#FFFFFFFF"},"tintBackgroundSpectrum":{"colorPoints":[{"color":"#FF042B59","point":0},{"color":"#FF294871","point":0.1},{"color":"#FF456087","point":0.2},{"color":"#FF5F779B","point":0.3},{"color":"#FF788DAD","point":0.4},{"color":"#FF8FA2BF","point":0.5},{"color":"#FFA5B6CF","point":0.6},{"color":"#FFBBC9DF","point":0.7},{"color":"#FFD1DCEE","point":0.8},{"color":"#FFE6EEFC","point":0.9},{"color":"#FFFBFFFF","point":1}],"backgroundColor":"#FF042B59"},"highlightSpectrum":{"colorPoints":[{"color":"#FFECF3FF","point":0},{"color":"#FFE9F2FF","point":0.1},{"color":"#FFE5F0FF","point":0.2},{"color":"#FFE2EFFF","point":0.3},{"color":"#FFDEEDFF","point":0.4},{"color":"#FFDBEBFF","point":0.5},{"color":"#FFD7EAFF","point":0.6},{"color":"#FFD3E8FF","point":0.7},{"color":"#FFCFE6FF","point":0.8},{"color":"#FFCBE5FF","point":0.9},{"color":"#FFC8E3FF","point":1}],"backgroundColor":"#FFFFFFFF"},"darkBackgroundSpectrum":{"colorPoints":[{"color":"#FF7DA0D3","point":0},{"color":"#FF89A9D8","point":0.1},{"color":"#FF94B1DC","point":0.2},{"color":"#FFA0B9E0","point":0.3},{"color":"#FFABC1E3","point":0.4},{"color":"#FFB6C9E7","point":0.5},{"color":"#FFC0D1EB","point":0.6},{"color":"#FFCBD8EF","point":0.7},{"color":"#FFD5E0F2","point":0.8},{"color":"#FFE0E7F6","point":0.9},{"color":"#FFEAEFFA","point":1}],"backgroundColor":"#FF000000"}},"navItems":[{"type":1,"title":"Announcements","tagSlug":"announcements","url":"https://blog.dart.dev/tagged/announcements","source":"tagSlug"},{"type":5,"title":"Archive","url":"https://blog.dart.dev/archive"},{"type":3,"title":"dart.dev","url":"https://dart.dev"}],"colorBehavior":2,"collectionFeatures":[25],"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Dart","description":"An approachable, portable, and productive language for high-quality apps on any platform","backgroundImage":{},"logoImage":{"id":"1*knHF_qpxdtS8h0Z8EeqowA@2x.png","originalWidth":1080,"originalHeight":1080,"alt":"Dart"},"alignment":2,"layout":5},"subscriberCount":14031,"tagline":"Dart is a client-optimized language for fast apps on any platform.","isOptedIntoAurora":false,"isCurationAllowedByDefault":false,"polarisCoverImage":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"ptsQualifiedAt":1616092887098,"type":"Collection"}},"Social":{"e58e0475d8e3":{"userId":"8b6a7f6f197d","targetUserId":"e58e0475d8e3","type":"Social"}},"SocialStats":{"e58e0475d8e3":{"userId":"e58e0475d8e3","usersFollowedCount":7,"usersFollowedByCount":98,"type":"SocialStats"}}}},"v":3,"b":"20260130-1012-root"}