{"success":true,"payload":{"value":{"id":"815fcd0e5a31","versionId":"97fd246f6898","creatorId":"7c51fc1918ba","homeCollectionId":"23738d481ce8","title":"Building a Chat App in Dart","detectedLanguage":"en","latestVersion":"97fd246f6898","latestPublishedVersion":"97fd246f6898","hasUnpublishedEdits":false,"latestRev":692,"createdAt":1481729163497,"updatedAt":1529260462392,"acceptedAt":0,"firstPublishedAt":1481734679568,"latestPublishedAt":1482313365848,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"Having thoroughly covered the basics of the “built” packages I’m now ready to up the ante by showing them in action.","bodyModel":{"paragraphs":[{"name":"b554","type":3,"text":"Building a Chat App in Dart","markups":[]},{"name":"7341","type":1,"text":"Having thoroughly covered the basics of the “built” packages I’m now ready to up the ante by showing them in action.","markups":[{"type":3,"start":7,"end":17,"href":"https://medium.com/@davidmorgan_14314/darts-built-collection-for-immutable-collections-db662f705eff#.p0thg11v2","title":"","rel":"","anchorType":0},{"type":3,"start":18,"end":25,"href":"https://medium.com/@davidmorgan_14314/darts-built-value-for-immutable-object-models-83e2497922d4#.bigviivg2","title":"","rel":"","anchorType":0},{"type":3,"start":30,"end":36,"href":"https://medium.com/@davidmorgan_14314/darts-built-value-for-serialization-f5db9d0f4159#.pq59e1vdo","title":"","rel":"","anchorType":0}]},{"name":"c498","type":1,"text":"I wrote this code in a day and a half to use as an example in my talk at the Dart summit (video). It was designed to show off built_value and source_gen, but it also shows something about Dart: that you can do a lot with just the SDK and the core packages from dart-lang.","markups":[{"type":3,"start":65,"end":96,"href":"https://www.youtube.com/watch?v=TMeJxWltoVo","title":"","rel":"","anchorType":0},{"type":3,"start":261,"end":270,"href":"http://github.com/dart-lang","title":"","rel":"","anchorType":0},{"type":2,"start":212,"end":216}]},{"name":"6b1e","type":4,"text":"The built_value chat example in action.","markups":[],"layout":1,"metadata":{"id":"1*pRJK2IRC697oavw5OBXkQA.png","originalWidth":801,"originalHeight":463}},{"name":"1013","type":3,"text":"Getting the Code","markups":[]},{"name":"4eed","type":1,"text":"You could read the code here but it’ll be more fun if you download and run it. To do that you’ll need dart and git installed. Then:","markups":[{"type":3,"start":24,"end":28,"href":"https://github.com/google/built_value.dart/tree/8697b3e858c3af18246a1ac01ba7f582eab5428a/chat_example","title":"","rel":"","anchorType":0},{"type":3,"start":102,"end":106,"href":"https://www.dartlang.org/install","title":"","rel":"","anchorType":0},{"type":3,"start":111,"end":114,"href":"https://git-scm.com/downloads","title":"","rel":"","anchorType":0}]},{"name":"cb31","type":8,"text":"git clone https://github.com/google/built_value.dart.git\ncd built_value.dart\ngit checkout tags/v0.4.3-article\ncd chat_example\npub get","markups":[{"type":3,"start":10,"end":56,"href":"https://github.com/google/built_value.dart.git","title":"","rel":"nofollow","anchorType":0}]},{"name":"2903","type":8,"text":"# Run these three in separate terminal windows.\npub serve\ndart bin/main.dart\ndart tool/watch.dart","markups":[]},{"name":"34b8","type":1,"text":"You can now go to localhost:26199 in Dartium, Chrome or any modern browser. You’ll see something like this:","markups":[]},{"name":"0cda","type":6,"text":"Welcome to the built_value chat example. For help, type /help.","markups":[]},{"name":"a374","type":6,"text":"You are connected as anon9531.","markups":[]},{"name":"cfab","type":1,"text":"It’s not particularly beautiful — but if you connect in a few more tabs, you’ll find it’s a fully functional chat application. It has login, away/status messages, and public and private messages.","markups":[]},{"name":"4a84","type":1,"text":"If you change the code you’ll find that client changes are picked up immediately on refresh. For server changes, kill then relaunch “dart bin/main.dart”.","markups":[]},{"name":"6798","type":3,"text":"What’s in a Chat App","markups":[]},{"name":"a9f1","type":1,"text":"Our server code is going to need to:","markups":[]},{"name":"5857","type":9,"text":"serve HTML and CSS;","markups":[]},{"name":"7176","type":9,"text":"track user state;","markups":[]},{"name":"324d","type":9,"text":"send and receive messages.","markups":[]},{"name":"6433","type":1,"text":"The client is going to need to:","markups":[]},{"name":"9d79","type":9,"text":"provide a UI that displays text and accepts input;","markups":[]},{"name":"2d3c","type":9,"text":"send and receive messages.","markups":[]},{"name":"3cd2","type":1,"text":"Let’s take this piece by piece.","markups":[]},{"name":"6d01","type":3,"text":"Serving HTML and CSS","markups":[]},{"name":"5512","type":1,"text":"I’m using package:shelf from dart-lang. For a production service I’d want to pre-build resources to serve, but for now I’ll focus on developing, so HTML and CSS can just go straight to pub serve. Here’s a Cascade that does that:","markups":[{"type":3,"start":10,"end":23,"href":"https://github.com/dart-lang/shelf#web-server-middleware-for-dart","title":"","rel":"","anchorType":0},{"type":3,"start":205,"end":212,"href":"https://www.dartdocs.org/documentation/shelf/0.6.7%2B2/shelf/Cascade-class.html","title":"","rel":"","anchorType":0}]},{"name":"b4cc","type":8,"text":"var cascade = new Cascade()\n  // Try sending requests to pub serve.\n  .add(proxyHandler(Uri.parse(‘http://localhost:8080’)))\n  // If that didn't work, must be a problem with pub serve.\n  .add((_) {\n    print(‘Request failed. Check pub serve output for errors.’);\n    return new Response.notFound(‘’);\n  });","markups":[{"type":3,"start":99,"end":121,"href":"http://localhost:8080'","title":"","rel":"nofollow","anchorType":0}]},{"name":"cf1c","type":1,"text":"And a server:","markups":[]},{"name":"5938","type":8,"text":"await io.serve(cascade.handler, 'localhost', 26199);","markups":[]},{"name":"05c2","type":1,"text":"We’ll tweak this a bit later on to add message handling.","markups":[]},{"name":"0759","type":3,"text":"Client UI","markups":[]},{"name":"d3bc","type":1,"text":"A chat client doesn’t need much UI, and the SDK is more than up to the job. First, the text field. We need querySelector, HtmlEscape and Window:","markups":[{"type":3,"start":107,"end":120,"href":"https://api.dartlang.org/stable/1.21.0/dart-html/querySelector.html","title":"","rel":"","anchorType":0},{"type":3,"start":122,"end":132,"href":"https://api.dartlang.org/stable/1.21.0/dart-convert/HtmlEscape-class.html","title":"","rel":"","anchorType":0},{"type":3,"start":137,"end":143,"href":"https://api.dartlang.org/stable/1.21.0/dart-html/Window-class.html","title":"","rel":"","anchorType":0}]},{"name":"15b0","type":8,"text":"void addLocal(String text) {\n  querySelector('#text').innerHtml +=\n    '<div class=\"local\">${_htmlEscape.convert(text)}</div>';\n  window.scrollTo(0, document.body.scrollHeight);\n}","markups":[]},{"name":"c5ba","type":1,"text":"And second, the input field. Here’s a class which turns text input in a Stream<String> for anyone to consume:","markups":[{"type":3,"start":72,"end":86,"href":"https://api.dartlang.org/stable/1.21.0/dart-async/Stream-class.html","title":"","rel":"","anchorType":0}]},{"name":"6e0c","type":8,"text":"class Input {\n  final StreamController<String> _streamController =\n      new StreamController<String>();","markups":[]},{"name":"1a09","type":8,"text":"  Input() {\n    final input = querySelector('#input') as InputElement;","markups":[]},{"name":"d5e4","type":8,"text":"    input.onKeyPress.listen((keyEvent) {\n      if (keyEvent.keyCode == KeyCode.ENTER) {\n        _streamController.add(input.value);\n        input.value = '';\n       }\n    });\n  }","markups":[]},{"name":"f76b","type":8,"text":"  Stream<String> get keyboardInput => _streamController.stream;\n}","markups":[]},{"name":"77a9","type":1,"text":"These sit on top of some minimal HTML and CSS. Then we need a little bit of code to make sure the input element starts with focus and keeps it:","markups":[{"type":3,"start":33,"end":37,"href":"https://github.com/google/built_value.dart/blob/8697b3e858c3af18246a1ac01ba7f582eab5428a/chat_example/web/index.html","title":"","rel":"","anchorType":0},{"type":3,"start":42,"end":45,"href":"https://github.com/google/built_value.dart/blob/8697b3e858c3af18246a1ac01ba7f582eab5428a/chat_example/web/main.css","title":"","rel":"","anchorType":0}]},{"name":"b0d9","type":8,"text":"var screen = querySelector('#screen');\nvar text = querySelector('#text');\nvar input = querySelector('#input');","markups":[]},{"name":"e614","type":8,"text":"input.focus();","markups":[]},{"name":"c8cb","type":8,"text":"for (var element in [screen, text]) {\n  element.onClick.listen((e) {\n    input.focus();\n  });\n}","markups":[]},{"name":"3930","type":1,"text":"And that’s it. No need for any kind of framework. Obviously, the UI is very minimal — if I wanted to do more I’d switch to Angular.","markups":[{"type":3,"start":123,"end":130,"href":"http://angulardart.org","title":"","rel":"","anchorType":0},{"type":2,"start":11,"end":13}]},{"name":"5883","type":3,"text":"Client-Server Communication","markups":[]},{"name":"b1e1","type":1,"text":"Chat applications need to be able to send messages from the server to the client, so simple POSTs aren’t enough. I opted to use WebSockets, which provide persistent two-way communication channels.","markups":[{"type":3,"start":128,"end":137,"href":"https://api.dartlang.org/stable/1.21.0/dart-html/WebSocket-class.html","title":"","rel":"","anchorType":0}]},{"name":"7376","type":1,"text":"With shelf we can just add this to the start of our Cascade:","markups":[]},{"name":"a9d2","type":8,"text":"var cascade = new Cascade()\n .add(webSocketHandler(socketReceiver))","markups":[]},{"name":"442d","type":1,"text":"Where “socketReceiver” is a function that accepts the newly created WebSocketChannels. “webSocketHandler” will reject plain HTTP requests, so those will continue down the cascade.","markups":[{"type":3,"start":68,"end":84,"href":"https://www.dartdocs.org/documentation/web_socket_channel/1.0.4/web_socket_channel/WebSocketChannel-class.html","title":"","rel":"","anchorType":0}]},{"name":"0b67","type":1,"text":"Connecting from the client is likewise simple:","markups":[]},{"name":"763b","type":8,"text":"var socket = new WebSocket('ws://${window.location.host}/ws');\nsocket.onMessage.listen((message) => <handle message>);\nsocket.send('Hello server!');","markups":[]},{"name":"6ef8","type":1,"text":"Of course we need a wire format; since I wrote this code to show off built_value I’m of course using its serialization. Just plain JSON with hand-written conversion would be straightforward — but the whole point of built_value is that you get that for free.","markups":[{"type":3,"start":105,"end":118,"href":"https://medium.com/@davidmorgan_14314/darts-built-value-for-serialization-f5db9d0f4159#.3nh1y6q6h","title":"","rel":"","anchorType":0}]},{"name":"0732","type":3,"text":"Web Sockets and SSL","markups":[]},{"name":"5035","type":1,"text":"One side note: currently, the example uses non-encrypted connections. Unfortunately non-encrypted web socket connections can sometimes be blocked by badly-behaved proxies. The way to fix this is to switch to encrypting your entire site, i.e. making it “https” instead of “http”. This is a pain to do, but it’s arguably a good idea for other reasons.","markups":[{"type":3,"start":335,"end":348,"href":"https://letsencrypt.org/","title":"","rel":"","anchorType":0}]},{"name":"d630","type":3,"text":"Object Model","markups":[]},{"name":"0758","type":1,"text":"At the heart of the chat example is an object model that’s shared between the server and the client. Because we’re using built_value we can send these classes over the wire. For example, this class is used to send a chat:","markups":[]},{"name":"704f","type":8,"text":"abstract class Chat implements Command {\n  String get text;\n  BuiltSet<String> get targets;\n}","markups":[]},{"name":"38fe","type":1,"text":"The server login, client logic and client rendering are all built around these object model classes.","markups":[]},{"name":"a8f5","type":3,"text":"Client Logic","markups":[]},{"name":"03ee","type":1,"text":"When you type something the client code needs to match and handle possible commands. This is a simple matter of string matching followed by building and sending object model classes as appropriate. Full code.","markups":[{"type":3,"start":198,"end":207,"href":"https://github.com/google/built_value.dart/blob/8697b3e858c3af18246a1ac01ba7f582eab5428a/chat_example/lib/client/client.dart","title":"","rel":"","anchorType":0}]},{"name":"b1d4","type":1,"text":"For example, if you type something starting with “/away”, it’s converted into a status update:","markups":[]},{"name":"0a6f","type":8,"text":"_send(new Status((b) => b\n  ..message = command.substring(‘/away ‘.length)\n  ..type = StatusType.away));","markups":[]},{"name":"c227","type":3,"text":"Client Rendering","markups":[]},{"name":"a27e","type":1,"text":"All the messages that the server can send implement this interface:","markups":[]},{"name":"4a72","type":8,"text":"abstract class Response {\n  String render();\n}","markups":[]},{"name":"42b6","type":1,"text":"And so on receiving a message the client simply calls “render” and displays the result. For example, the ShowChat class, which can hold public or private messages:","markups":[]},{"name":"f43b","type":8,"text":"class ShowChat implements Response {\n  String get username;\n  bool get private;\n  String get text;","markups":[]},{"name":"3183","type":8,"text":"  @override\n  String render() =>\n    '$username${private ? \"(private)\" : \"\"}: $text';\n}","markups":[]},{"name":"24ae","type":1,"text":"Incidentally, this pattern of encapsulating simple rendering logic inside data classes also works well for internationalization.","markups":[]},{"name":"82b3","type":3,"text":"Server Logic","markups":[]},{"name":"e7c3","type":1,"text":"In the server we keep the state: the chat log, usernames and passwords, and user statuses. When a message is received, we update the state and send out messages as needed. Full code.","markups":[{"type":3,"start":172,"end":181,"href":"https://github.com/google/built_value.dart/blob/8697b3e858c3af18246a1ac01ba7f582eab5428a/chat_example/lib/server/server.dart","title":"","rel":"","anchorType":0}]},{"name":"fc0d","type":1,"text":"For example, here “command” is a message received from a client. If it’s a “chat” message, we check whether it’s intended to be private — if it specifies targets — and either send it to everyone or to just the targets, as appropriate.","markups":[]},{"name":"4b07","type":8,"text":"if (command is Chat) {\n  _chat(connection, command);\n}","markups":[]},{"name":"ae04","type":8,"text":"...","markups":[]},{"name":"d634","type":8,"text":"void _chat(ServerConnection connection, Chat chat) {\n  if (chat.targets.isEmpty) {\n    _sendToAll(new ShowChat((b) => b\n      ..username = connection.username\n      ..private = false\n      ..text = chat.text));\n  } else {\n    _sendTo(\n      chat.targets,\n      new ShowChat((b) => b\n        ..username = connection.username\n        ..private = true\n        ..text = chat.text));\n  }\n}","markups":[]},{"name":"5c80","type":3,"text":"That’s All, Folks","markups":[]},{"name":"8157","type":1,"text":"And there we have it — a chat server and client in 820 lines of code. For those keeping count, an additional 1120 lines is generated by built_value, and end to end testing took 155 lines.","markups":[]},{"name":"5f2f","type":1,"text":"Wait — end to end testing?","markups":[]},{"name":"070a","type":1,"text":"I said it took a day and a half to write; half-way through I got annoyed that every time I added a feature I had to manually test to make sure I hadn’t broken anything else. So I took a step back, refactored for testability, and added test coverage for the major features.","markups":[]},{"name":"655c","type":1,"text":"Next week I’ll walk through exactly how the chat example is tested, and just how great it is to test with Dart on both the server and client.","markups":[]},{"name":"bd45","type":1,"text":"Edit: next article.","markups":[{"type":3,"start":6,"end":18,"href":"https://medium.com/@davidmorgan_14314/end-to-end-testing-in-one-short-second-with-dart-e699c8146fd6#.c7xfxohg4","title":"","rel":"","anchorType":0}]}],"sections":[{"name":"ce4b","startIndex":0}]},"postDisplay":{"coverless":true}},"virtuals":{"statusForCollection":"APPROVED","allowNotes":true,"previewImage":{"imageId":"1*pRJK2IRC697oavw5OBXkQA.png","filter":"","backgroundSize":"","originalWidth":801,"originalHeight":463,"strategy":"resample","height":0,"width":0},"wordCount":1246,"imageCount":1,"readingTime":4.901886792452831,"subtitle":"Having thoroughly covered the basics of the “built” packages I’m now ready to up the ante by showing them in action.","userPostRelation":{"userId":"8b6a7f6f197d","postId":"815fcd0e5a31","readAt":0,"readLaterAddedAt":0,"votedAt":0,"collaboratorAddedAt":0,"notesAddedAt":0,"subscribedAt":0,"lastReadSectionName":"","lastReadVersionId":"","lastReadAt":0,"lastReadParagraphName":"","lastReadPercentage":0,"viewedAt":0,"presentedCountInResponseManagement":0,"clapCount":0,"seriesUpdateNotifsOptedInAt":0,"queuedAt":0,"seriesFirstViewedAt":0,"presentedCountInStream":3,"seriesLastViewedAt":0,"audioProgressSec":0},"publishedInCount":1,"usersBySocialRecommends":[],"noIndex":false,"recommends":56,"isBookmarked":false,"tags":[{"slug":"dart","name":"Dart","postCount":13858,"metadata":{"postCount":13858,"coverImage":{"id":"1*rQugDrmwFFsEDL_CqSBJNw.png","originalWidth":1536,"originalHeight":1024,"isFeatured":true}},"type":"Tag"},{"slug":"dartlang","name":"Dartlang","postCount":921,"metadata":{"postCount":921,"coverImage":{"id":"1*HNqQFQ2hdhAgjew1pIMqXA.png","originalWidth":2752,"originalHeight":1536,"isFeatured":true}},"type":"Tag"},{"slug":"front-end-development","name":"Front End Development","postCount":47400,"metadata":{"postCount":47400,"coverImage":{"id":"0*G4bFF70MkNvTQil0","originalWidth":1536,"originalHeight":1024,"isFeatured":true}},"type":"Tag"},{"slug":"programming","name":"Programming","postCount":400575,"metadata":{"postCount":400575,"coverImage":{"id":"0*7x-LQAg1xBmi-L1p","originalWidth":1800,"originalHeight":1169,"alt":"Screenshot of a desktop with the Cursor application open"}},"type":"Tag"},{"slug":"web-development","name":"Web Development","postCount":220572,"metadata":{"postCount":220572,"coverImage":{"id":"1*FUnkPsjtrLpA2utqspWsWg.jpeg","originalWidth":1792,"originalHeight":1024,"isFeatured":true}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":0,"links":{"entries":[{"url":"https://medium.com/@davidmorgan_14314/darts-built-value-for-serialization-f5db9d0f4159#.3nh1y6q6h","alts":[{"type":2,"url":"medium://p/f5db9d0f4159"},{"type":3,"url":"medium://p/f5db9d0f4159"}]},{"url":"https://medium.com/@davidmorgan_14314/darts-built-value-for-serialization-f5db9d0f4159#.pq59e1vdo","alts":[{"type":2,"url":"medium://p/f5db9d0f4159"},{"type":3,"url":"medium://p/f5db9d0f4159"}]},{"url":"https://medium.com/@davidmorgan_14314/end-to-end-testing-in-one-short-second-with-dart-e699c8146fd6#.c7xfxohg4","alts":[{"type":2,"url":"medium://p/e699c8146fd6"},{"type":3,"url":"medium://p/e699c8146fd6"}]},{"url":"https://medium.com/@davidmorgan_14314/darts-built-value-for-immutable-object-models-83e2497922d4#.bigviivg2","alts":[{"type":2,"url":"medium://p/83e2497922d4"},{"type":3,"url":"medium://p/83e2497922d4"}]},{"url":"https://medium.com/@davidmorgan_14314/darts-built-collection-for-immutable-collections-db662f705eff#.p0thg11v2","alts":[{"type":2,"url":"medium://p/db662f705eff"},{"type":3,"url":"medium://p/db662f705eff"}]},{"url":"https://www.youtube.com/watch?v=TMeJxWltoVo","alts":[{"type":2,"url":"vnd.youtube://www.youtube.com/watch?v=TMeJxWltoVo&feature=applinks"},{"type":3,"url":"vnd.youtube://www.youtube.com/watch?v=TMeJxWltoVo&feature=applinks"}]}],"version":"0.3","generatedAt":1482313367275},"isLockedPreviewOnly":false,"metaDescription":"","totalClapCount":192,"sectionCount":1,"readingList":0,"topics":[]},"coverless":true,"slug":"building-a-chat-app-in-dart","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"building-a-chat-app-in-dart-815fcd0e5a31","previewContent":{"bodyModel":{"paragraphs":[{"name":"b554","type":3,"text":"Building a Chat App in Dart","markups":[],"alignment":1},{"name":"7341","type":1,"text":"Having thoroughly covered the basics of the “built” packages I’m now ready to up the ante by showing them in action.","markups":[{"type":3,"start":7,"end":17,"href":"https://medium.com/@davidmorgan_14314/darts-built-collection-for-immutable-collections-db662f705eff#.p0thg11v2","title":"","rel":"","anchorType":0},{"type":3,"start":18,"end":25,"href":"https://medium.com/@davidmorgan_14314/darts-built-value-for-immutable-object-models-83e2497922d4#.bigviivg2","title":"","rel":"","anchorType":0},{"type":3,"start":30,"end":36,"href":"https://medium.com/@davidmorgan_14314/darts-built-value-for-serialization-f5db9d0f4159#.pq59e1vdo","title":"","rel":"","anchorType":0}],"alignment":1},{"name":"c498","type":1,"text":"I wrote this code in a day and a half to use as an example in my talk at the Dart summit (video). It was designed to show off built_value…","markups":[{"type":3,"start":65,"end":96,"href":"https://www.youtube.com/watch?v=TMeJxWltoVo","title":"","rel":"","anchorType":0}],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false,"subtitle":"Having thoroughly covered the basics of the “built” packages I’m now ready to up the ante by showing them in action."},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://blog.dart.dev/building-a-chat-app-in-dart-815fcd0e5a31","approvedHomeCollectionId":"23738d481ce8","isNewsletter":false,"newsletterId":"","webCanonicalUrl":"https://blog.dart.dev/building-a-chat-app-in-dart-815fcd0e5a31","mediumUrl":"https://blog.dart.dev/building-a-chat-app-in-dart-815fcd0e5a31","migrationId":"","notifyFollowers":true,"notifyTwitter":true,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"audioVersionDurationSec":0,"sequenceId":"","isEligibleForRevenue":false,"isBlockedFromHightower":false,"deletedAt":0,"lockedPostSource":0,"hightowerMinimumGuaranteeStartsAt":0,"hightowerMinimumGuaranteeEndsAt":0,"featureLockRequestAcceptedAt":0,"mongerRequestType":1,"layerCake":0,"socialTitle":"","socialDek":"","editorialPreviewTitle":"","editorialPreviewDek":"","curationEligibleAt":0,"isProxyPost":false,"proxyPostFaviconUrl":"","proxyPostProviderName":"","proxyPostType":0,"isSuspended":false,"isLimitedState":false,"seoTitle":"","previewContent2":{"bodyModel":{"paragraphs":[{"name":"b554","type":3,"text":"Building a Chat App in Dart","markups":[]},{"name":"7341","type":1,"text":"Having thoroughly covered the basics of the “built” packages I’m now ready to up the ante by showing them in action.","markups":[{"type":3,"start":7,"end":17,"href":"https://medium.com/@davidmorgan_14314/darts-built-collection-for-immutable-collections-db662f705eff#.p0thg11v2","title":"","rel":"","anchorType":0},{"type":3,"start":18,"end":25,"href":"https://medium.com/@davidmorgan_14314/darts-built-value-for-immutable-object-models-83e2497922d4#.bigviivg2","title":"","rel":"","anchorType":0},{"type":3,"start":30,"end":36,"href":"https://medium.com/@davidmorgan_14314/darts-built-value-for-serialization-f5db9d0f4159#.pq59e1vdo","title":"","rel":"","anchorType":0}]},{"name":"c498","type":1,"text":"I wrote this code in a day and a half to use as an example in my talk at the Dart summit (video). It was designed to show off…","markups":[{"type":3,"start":65,"end":96,"href":"https://www.youtube.com/watch?v=TMeJxWltoVo","title":"","rel":"","anchorType":0},{"type":3,"start":261,"end":270,"href":"http://github.com/dart-lang","title":"","rel":"","anchorType":0},{"type":2,"start":212,"end":216}]}],"sections":[{"name":"ce4b","startIndex":0}]},"isFullContent":false,"subtitle":"Having thoroughly covered the basics of the “built” packages I’m now ready to up the ante by showing them in action."},"cardType":0,"isDistributionAlertDismissed":false,"isShortform":false,"shortformType":0,"responsesLocked":false,"isLockedResponse":false,"isPublishToEmail":false,"responseDistribution":0,"isMarkedPaywallOnly":false,"type":"Post"},"mentionedUsers":[],"collaborators":[],"hideMeter":false,"shareKey":"a00b14a646e7c8867c79459665126900","collectionUserRelations":[{"collectionId":"23738d481ce8","userId":"8b6a7f6f197d","role":"ADMIN"},{"collectionId":"4da7dfd21a33","userId":"8b6a7f6f197d","role":"WRITER"},{"collectionId":"24d8f4fa8912","userId":"8b6a7f6f197d","role":"WRITER"}],"mode":"canEdit","references":{"User":{"7c51fc1918ba":{"userId":"7c51fc1918ba","name":"David Morgan","username":"davidmorgan_14314","createdAt":1479905471772,"imageId":"0*CyTzB0Ea4W-QND7p.","backgroundImageId":"","bio":"Software Engineer at Google; works on Dart.","twitterScreenName":"__davidmorgan__","socialStats":{"userId":"7c51fc1918ba","usersFollowedCount":68,"usersFollowedByCount":1571,"type":"SocialStats"},"social":{"userId":"8b6a7f6f197d","targetUserId":"7c51fc1918ba","type":"Social"},"allowNotes":1,"mediumMemberAt":0,"isWriterProgramEnrolled":true,"isSuspended":false,"isMembershipTrialEligible":true,"facebookDisplayName":"","optInToIceland":true,"hasCompletedProfile":false,"userDismissableFlags":[1],"hasSeenIcelandOnboarding":false,"postSubscribeMembershipUpsellShownAt":0,"languageCode":"en-us","type":"User"}},"Collection":{"23738d481ce8":{"id":"23738d481ce8","name":"Dart","slug":"dartlang","tags":["MOBILE APP DEVELOPMENT","WEB DEVELOPMENT","DART","PROGRAMMING LANGUAGES","SOFTWARE DEVELOPMENT"],"creatorId":"a6d788faa5e5","description":"Dart is an approachable, portable, and productive language for high-quality apps on any platform. Learn more at https://dart.dev.","shortDescription":"Dart is an approachable, portable, and productive language…","image":{"imageId":"1*uWy1Ajpd0oTUQBO9WBHoQg@2x.png","filter":"","backgroundSize":"","originalWidth":1001,"originalHeight":1001,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":14031,"activeAt":1762974121956},"virtuals":{"permissions":{"canPublish":true,"canPublishAll":true,"canRepublish":true,"canRemove":true,"canManageAll":true,"canSubmit":true,"canEditPosts":true,"canAddWriters":true,"canViewStats":true,"canSendNewsletter":true,"canViewLockedPosts":true,"canViewCloaked":true,"canEditOwnPosts":true,"canBeAssignedAuthor":true,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false,"canLockOwnPostsForMediumMembers":false,"canViewNewsletterV2Stats":true,"canCreateNewsletterV3":true},"isSubscribed":true,"isEnrolledInHightower":false,"isEligibleForHightower":false,"isSubscribedToCollectionEmails":false,"isMuted":false,"canToggleEmail":false,"isWriter":false},"logo":{"imageId":"1*NRb7RFVWJQFzY47j3v4U7Q.png","filter":"","backgroundSize":"","originalWidth":400,"originalHeight":154,"strategy":"resample","height":0,"width":0},"twitterUsername":"dart_lang","publicEmail":"medium@dartlang.org","domain":"blog.dart.dev","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Dart","description":"An approachable, portable, and productive language for high-quality apps on any platform","backgroundImage":{},"logoImage":{"id":"1*knHF_qpxdtS8h0Z8EeqowA@2x.png","originalWidth":1080,"originalHeight":1080,"alt":"Dart"},"alignment":2,"layout":5}},{"type":1,"postListMetadata":{"source":1,"layout":4,"number":7,"postIds":[]}},{"type":1,"postListMetadata":{"source":1,"layout":5,"number":15,"postIds":[]}}],"tintColor":"#FF042B59","lightText":true,"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF6588BA","point":0},{"color":"#FF607EAB","point":0.1},{"color":"#FF59759C","point":0.2},{"color":"#FF536B8E","point":0.3},{"color":"#FF4C617F","point":0.4},{"color":"#FF445670","point":0.5},{"color":"#FF3D4B61","point":0.6},{"color":"#FF344052","point":0.7},{"color":"#FF2B3442","point":0.8},{"color":"#FF212832","point":0.9},{"color":"#FF161A22","point":1}],"backgroundColor":"#FFFFFFFF"},"tintBackgroundSpectrum":{"colorPoints":[{"color":"#FF042B59","point":0},{"color":"#FF294871","point":0.1},{"color":"#FF456087","point":0.2},{"color":"#FF5F779B","point":0.3},{"color":"#FF788DAD","point":0.4},{"color":"#FF8FA2BF","point":0.5},{"color":"#FFA5B6CF","point":0.6},{"color":"#FFBBC9DF","point":0.7},{"color":"#FFD1DCEE","point":0.8},{"color":"#FFE6EEFC","point":0.9},{"color":"#FFFBFFFF","point":1}],"backgroundColor":"#FF042B59"},"highlightSpectrum":{"colorPoints":[{"color":"#FFECF3FF","point":0},{"color":"#FFE9F2FF","point":0.1},{"color":"#FFE5F0FF","point":0.2},{"color":"#FFE2EFFF","point":0.3},{"color":"#FFDEEDFF","point":0.4},{"color":"#FFDBEBFF","point":0.5},{"color":"#FFD7EAFF","point":0.6},{"color":"#FFD3E8FF","point":0.7},{"color":"#FFCFE6FF","point":0.8},{"color":"#FFCBE5FF","point":0.9},{"color":"#FFC8E3FF","point":1}],"backgroundColor":"#FFFFFFFF"},"darkBackgroundSpectrum":{"colorPoints":[{"color":"#FF7DA0D3","point":0},{"color":"#FF89A9D8","point":0.1},{"color":"#FF94B1DC","point":0.2},{"color":"#FFA0B9E0","point":0.3},{"color":"#FFABC1E3","point":0.4},{"color":"#FFB6C9E7","point":0.5},{"color":"#FFC0D1EB","point":0.6},{"color":"#FFCBD8EF","point":0.7},{"color":"#FFD5E0F2","point":0.8},{"color":"#FFE0E7F6","point":0.9},{"color":"#FFEAEFFA","point":1}],"backgroundColor":"#FF000000"}},"navItems":[{"type":1,"title":"Announcements","tagSlug":"announcements","url":"https://blog.dart.dev/tagged/announcements","source":"tagSlug"},{"type":5,"title":"Archive","url":"https://blog.dart.dev/archive"},{"type":3,"title":"dart.dev","url":"https://dart.dev"}],"colorBehavior":2,"collectionFeatures":[25],"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Dart","description":"An approachable, portable, and productive language for high-quality apps on any platform","backgroundImage":{},"logoImage":{"id":"1*knHF_qpxdtS8h0Z8EeqowA@2x.png","originalWidth":1080,"originalHeight":1080,"alt":"Dart"},"alignment":2,"layout":5},"subscriberCount":14031,"tagline":"Dart is a client-optimized language for fast apps on any platform.","isOptedIntoAurora":false,"isCurationAllowedByDefault":false,"polarisCoverImage":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"ptsQualifiedAt":1616092887098,"type":"Collection"}},"Social":{"7c51fc1918ba":{"userId":"8b6a7f6f197d","targetUserId":"7c51fc1918ba","type":"Social"}},"SocialStats":{"7c51fc1918ba":{"userId":"7c51fc1918ba","usersFollowedCount":68,"usersFollowedByCount":1571,"type":"SocialStats"}}}},"v":3,"b":"20260130-1005-root"}