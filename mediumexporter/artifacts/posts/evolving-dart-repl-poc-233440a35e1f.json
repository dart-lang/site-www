{"success":true,"payload":{"value":{"id":"233440a35e1f","versionId":"e647ba181784","creatorId":"d0d2b2ab0896","homeCollectionId":"23738d481ce8","title":"Evolving the Dart REPL PoC","detectedLanguage":"en","latestVersion":"e647ba181784","latestPublishedVersion":"e647ba181784","hasUnpublishedEdits":false,"latestRev":899,"createdAt":1492334916599,"updatedAt":1529115975606,"acceptedAt":0,"firstPublishedAt":1492644375348,"latestPublishedAt":1492645994965,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"Hacking with Dart","bodyModel":{"paragraphs":[{"name":"dac0","type":3,"text":"Evolving the Dart REPL PoC","markups":[]},{"name":"5a0d","type":13,"text":"Hacking with Dart","markups":[]},{"name":"9ee8","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*VisHHMp_ARvFA08w.jpg","originalWidth":400,"originalHeight":400}},{"name":"4d3d","type":1,"text":"The Dart REPL allows you to evaluate Dart expressions and statements in an interactive shell. It has been awhile since my first post about the Dart REPL (you don’t need to read it to enjoy this post), and lots of features are still missing. In particular, dynamic imports and support for top-level declarations would be very useful, so let’s look into how to support them.","markups":[{"type":3,"start":4,"end":13,"href":"https://github.com/BlackHC/dart_repl","title":"","rel":"noopener","anchorType":0},{"type":3,"start":75,"end":92,"href":"https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop","title":"","rel":"noopener","anchorType":0},{"type":3,"start":119,"end":152,"href":"https://medium.com/dartlang/dart-repl-poc-f327e3769b6f","title":"","rel":"","anchorType":0}]},{"name":"bee1","type":1,"text":"Disclaimer: I do work for Google, but this post is about a personal project. I’m not on the Dart team or related. This article only contains my humble personal opinion.","markups":[{"type":2,"start":0,"end":168}]},{"name":"c23b","type":1,"text":"tl;dr: Code and instructions on how to run the Dart REPL can be found at https://github.com/BlackHC/dart_repl.","markups":[{"type":3,"start":73,"end":109,"href":"https://github.com/BlackHC/dart_repl","title":"","rel":"nofollow","anchorType":0},{"type":1,"start":0,"end":5}]},{"name":"1fa7","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*pmcEIyli_y3CLPCi.jpg","originalWidth":500,"originalHeight":281}},{"name":"5f59","type":3,"text":"Hot reload","markups":[]},{"name":"59fa","type":1,"text":"For Flutter, a cool new feature has been added to the Dart VM: hot reload. There is an entertaining YouTube clip from the Dart DevSummit that explains and shows it in detail:","markups":[{"type":3,"start":4,"end":11,"href":"https://flutter.io/","title":"","rel":"","anchorType":0},{"type":3,"start":63,"end":73,"href":"https://github.com/flutter/flutter/wiki/Hot-Reload","title":"","rel":"","anchorType":0},{"type":1,"start":63,"end":73}]},{"name":"bb3e","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"824f2944e1d202f35f9a5dde00aeb762","iframeWidth":854,"iframeHeight":480,"thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Fi.ytimg.com%2Fvi%2FiPlPk43RbpA%2Fhqdefault.jpg&key=4fce0568f2ce49e8b54624ef71a8a5bd"}},{"name":"2fc5","type":1,"text":"Hot reload allows you to change your code while your program is running. The Dart VM will pick up the changes you’ve made and try to apply them while keeping everything running. And if it can’t, it will tell you why. This is very cool! In the spirit of hacking Dart to do great things, let us ponder how we can use this to implement the new features.","markups":[]},{"name":"5941","type":13,"text":"Why can’t we import new libraries in the current version of the REPL?","markups":[]},{"name":"bcb6","type":1,"text":"The REPL uses Dart’s VM service to evaluate expressions. Sadly, importing a library is not expression in Dart, so we can’t just evaluate it in that context. However, we can change the code of the REPL’s sandbox while it is running to import a new library and then we could just trigger a hot reload to update the REPL. Does this work? It actually does \\o/","markups":[]},{"name":"f666","type":4,"text":"Dart REPL with runtime imports","markups":[],"layout":1,"metadata":{"id":"1*3Zj7w3g1jNI_SXtkvM8-Lg.gif","originalWidth":505,"originalHeight":476},"href":"https://asciinema.org/a/114834"},{"name":"31ec","type":1,"text":"But wait: another thing that we can’t do by evaluating expressions via the VM service is creating new classes and functions. In fact, none of Dart’s top-level declarations can be executed by evaluating an expression for this reason.","markups":[]},{"name":"a8f8","type":3,"text":"How can we allow top-level declarations?","markups":[]},{"name":"f90b","type":1,"text":"Of course, we could use the same idea described above to also add a new class or a global function. However, anyone who has used IPython or similar for a while knows that you tend to redeclare the same class or function frequently as you iterate on the code. You re-execute slightly modified versions of the same code over and over again while you play around with it.","markups":[]},{"name":"2d0d","type":1,"text":"If we were to just add these declarations to our sandbox Dart library, it would require us to keep tab of what has been declared when and where in the file in order to update the declaration when you iterate on it. This requires a lot of logic and clever code. Sadly, it would also break easily if a change to a class were to break compatibility with older code or other declarations. This would keep the REPL from hot reloading and would force the user to restart it :( This sounds complex and brittle: not a winning combination, I think!","markups":[]},{"name":"e493","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*JRC_8ZBdApr8CNWF.jpg","originalWidth":500,"originalHeight":375}},{"name":"e625","type":13,"text":"Spike & chains","markups":[]},{"name":"7ee8","type":1,"text":"Instead, what if we could redefine the same top-level declaration multiple times without the redeclarations ever colliding? Is that even possible in Dart? You bet it is! But not within the same library :) Dart allows you to import a library and then declare a class, function or global variable that shadows an existing declaration.","markups":[]},{"name":"f1b7","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"2496f4846e2ec984332c0fccd753eda5","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars2.githubusercontent.com%2Fu%2F729312%3Fv%3D3%26s%3D400&key=4fce0568f2ce49e8b54624ef71a8a5bd"}},{"name":"b9d9","type":1,"text":"In this example, there will be no complaints about b.dart’s MyClass shadowing a.dart’s version because they live in different libraries and the local declaration in b.dart has precedence over the one imported from a.dart.","markups":[{"type":10,"start":51,"end":57},{"type":10,"start":60,"end":67},{"type":10,"start":78,"end":84},{"type":10,"start":165,"end":171},{"type":10,"start":214,"end":220}]},{"name":"7b2e","type":1,"text":"In general, shadowing is what happens when you declare a variable that hides another variable from an outer scope. For example:","markups":[]},{"name":"663a","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"53b655cff7e8341f81ba0a07a703fbb7","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars2.githubusercontent.com%2Fu%2F729312%3Fv%3D3%26s%3D400&key=4fce0568f2ce49e8b54624ef71a8a5bd"}},{"name":"7707","type":1,"text":"Can we use this? To investigate it, I have implemented a quick spike here. It doesn’t generate any code. Rather, it is a very dumb example to make sure that what we think will work actually works. It would be frustrating to spend a lot of time on implementing this using code generation only to find out that it could have never worked! This is the gist of it:","markups":[{"type":3,"start":69,"end":73,"href":"https://github.com/BlackHC/dart_repl/tree/master/spikes/import_spike","title":"","rel":"","anchorType":0}]},{"name":"1646","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"5ee2c1920db51d8f94c2adc2d84e1a21","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars2.githubusercontent.com%2Fu%2F729312%3Fv%3D3%26s%3D400&key=4fce0568f2ce49e8b54624ef71a8a5bd"}},{"name":"4870","type":1,"text":"This works indeed! We can create a chain of libraries that import each other (and also export each other because otherwise the symbols will not be available everywhere). Then the users can redefine symbols as often as they want. Obviously, this can result in old code referring to shadowed symbols, which might make things slightly confusing, but at least it won’t break. And anybody who has used IPython or similar has learnt to live with it, too. It can’t be that bad.","markups":[]},{"name":"c41c","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*jjpANyPKXUIge1JcUA3WSQ.png","originalWidth":1335,"originalHeight":630}},{"name":"1c4c","type":1,"text":"The diagram above shows how it works: as we add new top-level declarations, new “cells” (Dart libraries) are created which import (and export) the previous cell. The final cell is imported in the sandbox library that is used as execution environment for normal Dart expressions and statements. The sandbox file is edited in-place and then reloaded using hot reload.","markups":[]},{"name":"3c6a","type":13,"text":"A workflow vision","markups":[]},{"name":"5df3","type":1,"text":"Moreover, if you want to update code continuously without shadowing anything, that is still possible, too: hot reload already allows for this workflow in normal Dart programs. You can do the same in the REPL. You can edit your amazing Dart library amazing_dart_library.dart and import it into REPL, play around with it, and while you do so, you can edit the code in your editor of choice and have the REPL hot reload the code when you want by calling reload(). The best of both worlds \\o/","markups":[{"type":10,"start":248,"end":273},{"type":10,"start":451,"end":459}]},{"name":"67fd","type":3,"text":"How can we implement this in practice?","markups":[]},{"name":"4c84","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*lKzRhG-9uyW5eLvq.jpg","originalWidth":480,"originalHeight":480}},{"name":"8dde","type":1,"text":"Well, we are hacking Dart here, so let’s see: Hot reload is not supported by the vm_service_client yet since it is such a new feature and the service specification is not totally complete yet. I started writing a pull request for Natalie (the maintainer) to add support for it, but really, as my coworkers know: production quality code is not my thing, especially not in my spare time (sorry Natalie!). However, this does not block our hacking adventure.","markups":[{"type":10,"start":81,"end":98},{"type":3,"start":81,"end":98,"href":"https://pub.dartlang.org/packages/vm_service_client","title":"","rel":"","anchorType":0},{"type":3,"start":142,"end":163,"href":"https://github.com/dart-lang/sdk/blob/master/runtime/vm/service/service.md","title":"","rel":"","anchorType":0},{"type":3,"start":211,"end":225,"href":"https://github.com/dart-lang/vm_service_client/pull/14","title":"","rel":"","anchorType":0}]},{"name":"0857","type":1,"text":"pub, Dart’s package management system, not only supports automatic version constraint resolution and a centralized repository of packages, it also allows you to use local packages or to depend directly on GitHub . This is usually not advisable because you lose much of what makes pub great, but here it works: I simply forked vm_service_client into my own GitHub clone and made the necessary changes. You can find the code at https://github.com/BlackHC/vm_service_client/tree/reload_sources_poc. Afterwards, I changed the Dart REPL’s pubspec.yaml to link to my GitHub clone instead of the official version:","markups":[{"type":10,"start":326,"end":343},{"type":10,"start":534,"end":546},{"type":3,"start":0,"end":3,"href":"https://pub.dartlang.org/","title":"","rel":"noopener","anchorType":0},{"type":3,"start":158,"end":211,"href":"https://www.dartlang.org/tools/pub/dependencies","title":"","rel":"","anchorType":0},{"type":3,"start":426,"end":494,"href":"https://github.com/BlackHC/vm_service_client/tree/reload_sources_poc","title":"","rel":"nofollow","anchorType":0}]},{"name":"4812","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"be30ddffb92ecf0d20851fbf9e1c0a15","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars2.githubusercontent.com%2Fu%2F729312%3Fv%3D3%26s%3D400&key=4fce0568f2ce49e8b54624ef71a8a5bd"}},{"name":"1c2f","type":1,"text":"And that’s it! A simplepub getin the terminal now updates the Dart REPL to use the forked version.","markups":[{"type":10,"start":23,"end":30}]},{"name":"35b3","type":1,"text":"This makes it really easy to experiment with anything: you can fork other packages to try things out and easily depend on them. And the cool thing is, I can publish this and when you download the REPL for yourself using pub, it will grab the code from GitHub, too. Very hackable yet shareable! (Even if it’s not advisable for production packages in general :)","markups":[]},{"name":"da5b","type":1,"text":"The main bit of juicy logic is the cell generator that implements a very simple templating mechanism in line with what we’ve discussed above:","markups":[]},{"name":"cf59","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"879f11229a2d99bf949edafa4d499737","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars2.githubusercontent.com%2Fu%2F729312%3Fv%3D3%26s%3D400&key=4fce0568f2ce49e8b54624ef71a8a5bd"}},{"name":"26d4","type":1,"text":"The hot reload feature is called from the REPL when a new import is needed:","markups":[]},{"name":"1e85","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"f47b8fae206d6b2cb31497ab33e258d8","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars2.githubusercontent.com%2Fu%2F729312%3Fv%3D3%26s%3D400&key=4fce0568f2ce49e8b54624ef71a8a5bd"}},{"name":"10e8","type":1,"text":"And that’s pretty much it! You can have a look at all the changes in the pull request: https://github.com/BlackHC/dart_repl/pull/2.\nI admit the code is a bit hacky and untidy. There is also quite a bit of unrelated wrapper code for message passing between the REPL and the sandbox in the pull request. This sadly obfuscates the main changes a bit. I need to see how we can refactor all this to make it neater and tidier again… but sometimes, it’s just easier to get things running quickly than writing the best code and pull requests. Sorry about that!","markups":[{"type":3,"start":87,"end":130,"href":"https://github.com/BlackHC/dart_repl/pull/2","title":"","rel":"nofollow","anchorType":0}]},{"name":"a541","type":4,"text":"Dart REPL with top-level declarations","markups":[],"layout":1,"metadata":{"id":"1*lR3fQGmW9Bjxtcxy-mJsjg.gif","originalWidth":505,"originalHeight":332},"href":"https://asciinema.org/a/114838"},{"name":"3e3f","type":1,"text":"The Dart REPL’s source can be found at https://github.com/BlackHC/dart_repl. In addition to supporting top-level declarations, I have also added support for built-inimport, loadPackage and reload commands. (Please note: loadPackage requires the soon-to-be-released 1.24 dev builds of the Dart SDK. It’s a no-op right otherwise.) These built-in commands are all trivial extensions that use hot reload. Finally, to load new packages from your local pub cache, I’m using the excellent pub_cache package.","markups":[{"type":10,"start":165,"end":171},{"type":10,"start":173,"end":184},{"type":10,"start":189,"end":195},{"type":10,"start":220,"end":231},{"type":10,"start":482,"end":491},{"type":3,"start":39,"end":75,"href":"https://github.com/BlackHC/dart_repl","title":"","rel":"nofollow noopener","anchorType":0},{"type":3,"start":482,"end":491,"href":"https://github.com/dart-lang/pub_cache","title":"","rel":"","anchorType":0}]},{"name":"2fe9","type":1,"text":"To give it a go (and assuming you have installed the Dart SDK), just run:","markups":[]},{"name":"b31a","type":8,"text":"pub global activate dart_repl\npub global run dart_repl","markups":[]},{"name":"21f2","type":1,"text":"Thanks for making it to the end of this article! Please let me know what you think :)","markups":[]},{"name":"1922","type":1,"text":"Cheers,\nAndreas","markups":[]}],"sections":[{"name":"53d0","startIndex":0},{"name":"47e3","startIndex":6}]},"postDisplay":{"coverless":true},"metaDescription":"The Dart REPL allows you to evaluate Dart expressions and statements in an interactive shell. However, major features are missing: dynamic imports and classes would be awesome, so let’s add them."},"virtuals":{"statusForCollection":"APPROVED","allowNotes":true,"previewImage":{"imageId":"0*VisHHMp_ARvFA08w.jpg","filter":"","backgroundSize":"","originalWidth":400,"originalHeight":400,"strategy":"resample","height":0,"width":0},"wordCount":1449,"imageCount":7,"readingTime":6.5179245283018865,"subtitle":"Hacking with Dart","userPostRelation":{"userId":"8b6a7f6f197d","postId":"233440a35e1f","readAt":0,"readLaterAddedAt":0,"votedAt":0,"collaboratorAddedAt":0,"notesAddedAt":0,"subscribedAt":0,"lastReadSectionName":"","lastReadVersionId":"","lastReadAt":0,"lastReadParagraphName":"","lastReadPercentage":0,"viewedAt":0,"presentedCountInResponseManagement":0,"clapCount":0,"seriesUpdateNotifsOptedInAt":0,"queuedAt":0,"seriesFirstViewedAt":0,"presentedCountInStream":2,"seriesLastViewedAt":0,"audioProgressSec":0},"publishedInCount":1,"usersBySocialRecommends":[],"noIndex":false,"recommends":26,"isBookmarked":false,"tags":[{"slug":"javascript","name":"JavaScript","postCount":252158,"metadata":{"postCount":252158,"coverImage":{"id":"1*xqni95gWZ1hGKjt28SbpKA.png","originalWidth":1536,"originalHeight":1024}},"type":"Tag"},{"slug":"google","name":"Google","postCount":64822,"metadata":{"postCount":64822,"coverImage":{"id":"1*XecumDv5a3um7nPZZzHs0w.jpeg","originalWidth":5668,"originalHeight":3840,"isFeatured":true,"alt":"painting with 4 bears"}},"type":"Tag"},{"slug":"programming","name":"Programming","postCount":400575,"metadata":{"postCount":400575,"coverImage":{"id":"0*7x-LQAg1xBmi-L1p","originalWidth":1800,"originalHeight":1169,"alt":"Screenshot of a desktop with the Cursor application open"}},"type":"Tag"},{"slug":"software-development","name":"Software Development","postCount":285621,"metadata":{"postCount":285621,"coverImage":{"id":"0*7x-LQAg1xBmi-L1p","originalWidth":1800,"originalHeight":1169,"alt":"Screenshot of a desktop with the Cursor application open"}},"type":"Tag"},{"slug":"prototyping","name":"Prototyping","postCount":11265,"metadata":{"postCount":11265,"coverImage":{"id":"1*r-skBmocwxdN4Pug2ToZJQ.png","originalWidth":3022,"originalHeight":1964,"isFeatured":true}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":0,"links":{"entries":[{"url":"https://medium.com/dartlang/dart-repl-poc-f327e3769b6f","alts":[{"type":2,"url":"medium://p/f327e3769b6f"},{"type":3,"url":"medium://p/f327e3769b6f"}]}],"version":"0.3","generatedAt":1492645995331},"isLockedPreviewOnly":false,"metaDescription":"The Dart REPL allows you to evaluate Dart expressions and statements in an interactive shell. However, major features are missing: dynamic imports and classes would be awesome, so let’s add them.","totalClapCount":60,"sectionCount":2,"readingList":0,"topics":[{"topicId":"decb52b64abf","slug":"programming","createdAt":1493934116328,"deletedAt":0,"image":{"id":"1*iPa136b1cGEO7lvoXg6uHQ@2x.jpeg","originalWidth":6016,"originalHeight":4016},"name":"Programming","description":"The good, the bad, the buggy.","relatedTopics":[],"visibility":1,"relatedTags":[],"relatedTopicIds":[],"seoTitle":"Programming News and Articles — Medium","type":"Topic"}]},"coverless":true,"slug":"evolving-the-dart-repl-poc","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":false,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"evolving-dart-repl-poc-233440a35e1f","previewContent":{"bodyModel":{"paragraphs":[{"name":"dac0","type":3,"text":"Evolving the Dart REPL PoC","markups":[],"alignment":1},{"name":"5a0d","type":13,"text":"Hacking with Dart","markups":[],"alignment":1},{"name":"9ee8","type":4,"text":"","markups":[],"layout":9,"metadata":{"id":"0*VisHHMp_ARvFA08w.jpg","originalWidth":400,"originalHeight":400}}],"sections":[{"startIndex":0}]},"isFullContent":false,"subtitle":"Hacking with Dart"},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://blog.dart.dev/evolving-dart-repl-poc-233440a35e1f","approvedHomeCollectionId":"23738d481ce8","isNewsletter":false,"newsletterId":"","webCanonicalUrl":"https://blog.dart.dev/evolving-dart-repl-poc-233440a35e1f","mediumUrl":"https://blog.dart.dev/evolving-dart-repl-poc-233440a35e1f","migrationId":"","notifyFollowers":true,"notifyTwitter":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"audioVersionDurationSec":0,"sequenceId":"","isEligibleForRevenue":false,"isBlockedFromHightower":false,"deletedAt":0,"lockedPostSource":0,"hightowerMinimumGuaranteeStartsAt":0,"hightowerMinimumGuaranteeEndsAt":0,"featureLockRequestAcceptedAt":0,"mongerRequestType":1,"layerCake":0,"socialTitle":"","socialDek":"","editorialPreviewTitle":"","editorialPreviewDek":"","curationEligibleAt":0,"isProxyPost":false,"proxyPostFaviconUrl":"","proxyPostProviderName":"","proxyPostType":0,"isSuspended":false,"isLimitedState":false,"seoTitle":"","previewContent2":{"bodyModel":{"paragraphs":[{"name":"dac0","type":3,"text":"Evolving the Dart REPL PoC","markups":[]},{"name":"5a0d","type":13,"text":"Hacking with Dart","markups":[]},{"name":"9ee8","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*VisHHMp_ARvFA08w.jpg","originalWidth":400,"originalHeight":400}},{"name":"4d3d","type":1,"text":"The Dart REPL allows you to evaluate Dart expressions and statements in an interactive shell. It has been awhile since my first post about the Dart REPL (you don’t need to read it to enjoy this post), and lots of features are still missing. In particular, dynamic imports and support…","markups":[{"type":3,"start":4,"end":13,"href":"https://github.com/BlackHC/dart_repl","title":"","rel":"noopener","anchorType":0},{"type":3,"start":75,"end":92,"href":"https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop","title":"","rel":"noopener","anchorType":0},{"type":3,"start":119,"end":152,"href":"https://medium.com/dartlang/dart-repl-poc-f327e3769b6f","title":"","rel":"","anchorType":0}]}],"sections":[{"name":"53d0","startIndex":0}]},"isFullContent":false,"subtitle":"Hacking with Dart"},"cardType":0,"isDistributionAlertDismissed":false,"isShortform":false,"shortformType":0,"responsesLocked":false,"isLockedResponse":false,"isPublishToEmail":false,"responseDistribution":0,"isMarkedPaywallOnly":false,"type":"Post"},"mentionedUsers":[],"collaborators":[{"user":{"userId":"696ae61bc6e2","name":"Filip Hracek","username":"filiph","createdAt":1440499743108,"imageId":"1*dZx7Dxmr4VXmjc5U8yDf3w.jpeg","backgroundImageId":"","bio":"I’m a pro­gram­ming buff with formal train­ing in jour­nal­ism. I build games, teach pro­gram­ming, explain things, and create silly soft­ware experiments.","twitterScreenName":"","allowNotes":1,"mediumMemberAt":0,"isWriterProgramEnrolled":true,"isSuspended":false,"isMembershipTrialEligible":true,"facebookDisplayName":"","optInToIceland":true,"subdomainCreatedAt":1619463171044,"hasCompletedProfile":false,"userDismissableFlags":[1,2,3,8,12,21,29,33,53,58],"hasSeenIcelandOnboarding":false,"postSubscribeMembershipUpsellShownAt":0,"languageCode":"en-us","type":"User"},"state":"visible"}],"hideMeter":false,"shareKey":"4be0fa03c6f5dac21ecd8812db5a3b4e","collectionUserRelations":[{"collectionId":"23738d481ce8","userId":"8b6a7f6f197d","role":"ADMIN"},{"collectionId":"4da7dfd21a33","userId":"8b6a7f6f197d","role":"WRITER"},{"collectionId":"24d8f4fa8912","userId":"8b6a7f6f197d","role":"WRITER"}],"mode":"canEdit","references":{"User":{"d0d2b2ab0896":{"userId":"d0d2b2ab0896","name":"Andreas Kirsch","username":"BlackHC","createdAt":1398373301017,"imageId":"1*mmND4OQvbUKv3OavQtrkOQ.jpeg","backgroundImageId":"","bio":"DPhil student at AIMS in Oxford; former RE at DeepMind, former SWE at Google; fellow at Newspeak House.","twitterScreenName":"BlackHC","socialStats":{"userId":"d0d2b2ab0896","usersFollowedCount":44,"usersFollowedByCount":140,"type":"SocialStats"},"social":{"userId":"8b6a7f6f197d","targetUserId":"d0d2b2ab0896","type":"Social"},"allowNotes":1,"mediumMemberAt":0,"isWriterProgramEnrolled":true,"isSuspended":false,"isMembershipTrialEligible":true,"facebookDisplayName":"Andreas Kirsch","optInToIceland":true,"hasCompletedProfile":false,"isCreatorPartnerProgramEnrolled":true,"userDismissableFlags":[1,2,8,9,12,33,58],"hasSeenIcelandOnboarding":false,"postSubscribeMembershipUpsellShownAt":0,"languageCode":"en-us","type":"User"}},"Collection":{"23738d481ce8":{"id":"23738d481ce8","name":"Dart","slug":"dartlang","tags":["MOBILE APP DEVELOPMENT","WEB DEVELOPMENT","DART","PROGRAMMING LANGUAGES","SOFTWARE DEVELOPMENT"],"creatorId":"a6d788faa5e5","description":"Dart is an approachable, portable, and productive language for high-quality apps on any platform. Learn more at https://dart.dev.","shortDescription":"Dart is an approachable, portable, and productive language…","image":{"imageId":"1*uWy1Ajpd0oTUQBO9WBHoQg@2x.png","filter":"","backgroundSize":"","originalWidth":1001,"originalHeight":1001,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":14031,"activeAt":1762974121956},"virtuals":{"permissions":{"canPublish":true,"canPublishAll":true,"canRepublish":true,"canRemove":true,"canManageAll":true,"canSubmit":true,"canEditPosts":true,"canAddWriters":true,"canViewStats":true,"canSendNewsletter":true,"canViewLockedPosts":true,"canViewCloaked":true,"canEditOwnPosts":true,"canBeAssignedAuthor":true,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false,"canLockOwnPostsForMediumMembers":false,"canViewNewsletterV2Stats":true,"canCreateNewsletterV3":true},"isSubscribed":true,"isEnrolledInHightower":false,"isEligibleForHightower":false,"isSubscribedToCollectionEmails":false,"isMuted":false,"canToggleEmail":false,"isWriter":false},"logo":{"imageId":"1*NRb7RFVWJQFzY47j3v4U7Q.png","filter":"","backgroundSize":"","originalWidth":400,"originalHeight":154,"strategy":"resample","height":0,"width":0},"twitterUsername":"dart_lang","publicEmail":"medium@dartlang.org","domain":"blog.dart.dev","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Dart","description":"An approachable, portable, and productive language for high-quality apps on any platform","backgroundImage":{},"logoImage":{"id":"1*knHF_qpxdtS8h0Z8EeqowA@2x.png","originalWidth":1080,"originalHeight":1080,"alt":"Dart"},"alignment":2,"layout":5}},{"type":1,"postListMetadata":{"source":1,"layout":4,"number":7,"postIds":[]}},{"type":1,"postListMetadata":{"source":1,"layout":5,"number":15,"postIds":[]}}],"tintColor":"#FF042B59","lightText":true,"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF6588BA","point":0},{"color":"#FF607EAB","point":0.1},{"color":"#FF59759C","point":0.2},{"color":"#FF536B8E","point":0.3},{"color":"#FF4C617F","point":0.4},{"color":"#FF445670","point":0.5},{"color":"#FF3D4B61","point":0.6},{"color":"#FF344052","point":0.7},{"color":"#FF2B3442","point":0.8},{"color":"#FF212832","point":0.9},{"color":"#FF161A22","point":1}],"backgroundColor":"#FFFFFFFF"},"tintBackgroundSpectrum":{"colorPoints":[{"color":"#FF042B59","point":0},{"color":"#FF294871","point":0.1},{"color":"#FF456087","point":0.2},{"color":"#FF5F779B","point":0.3},{"color":"#FF788DAD","point":0.4},{"color":"#FF8FA2BF","point":0.5},{"color":"#FFA5B6CF","point":0.6},{"color":"#FFBBC9DF","point":0.7},{"color":"#FFD1DCEE","point":0.8},{"color":"#FFE6EEFC","point":0.9},{"color":"#FFFBFFFF","point":1}],"backgroundColor":"#FF042B59"},"highlightSpectrum":{"colorPoints":[{"color":"#FFECF3FF","point":0},{"color":"#FFE9F2FF","point":0.1},{"color":"#FFE5F0FF","point":0.2},{"color":"#FFE2EFFF","point":0.3},{"color":"#FFDEEDFF","point":0.4},{"color":"#FFDBEBFF","point":0.5},{"color":"#FFD7EAFF","point":0.6},{"color":"#FFD3E8FF","point":0.7},{"color":"#FFCFE6FF","point":0.8},{"color":"#FFCBE5FF","point":0.9},{"color":"#FFC8E3FF","point":1}],"backgroundColor":"#FFFFFFFF"},"darkBackgroundSpectrum":{"colorPoints":[{"color":"#FF7DA0D3","point":0},{"color":"#FF89A9D8","point":0.1},{"color":"#FF94B1DC","point":0.2},{"color":"#FFA0B9E0","point":0.3},{"color":"#FFABC1E3","point":0.4},{"color":"#FFB6C9E7","point":0.5},{"color":"#FFC0D1EB","point":0.6},{"color":"#FFCBD8EF","point":0.7},{"color":"#FFD5E0F2","point":0.8},{"color":"#FFE0E7F6","point":0.9},{"color":"#FFEAEFFA","point":1}],"backgroundColor":"#FF000000"}},"navItems":[{"type":1,"title":"Announcements","tagSlug":"announcements","url":"https://blog.dart.dev/tagged/announcements","source":"tagSlug"},{"type":5,"title":"Archive","url":"https://blog.dart.dev/archive"},{"type":3,"title":"dart.dev","url":"https://dart.dev"}],"colorBehavior":2,"collectionFeatures":[25],"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Dart","description":"An approachable, portable, and productive language for high-quality apps on any platform","backgroundImage":{},"logoImage":{"id":"1*knHF_qpxdtS8h0Z8EeqowA@2x.png","originalWidth":1080,"originalHeight":1080,"alt":"Dart"},"alignment":2,"layout":5},"subscriberCount":14031,"tagline":"Dart is a client-optimized language for fast apps on any platform.","isOptedIntoAurora":false,"isCurationAllowedByDefault":false,"polarisCoverImage":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"ptsQualifiedAt":1616092887098,"type":"Collection"}},"Social":{"d0d2b2ab0896":{"userId":"8b6a7f6f197d","targetUserId":"d0d2b2ab0896","type":"Social"}},"SocialStats":{"d0d2b2ab0896":{"userId":"d0d2b2ab0896","usersFollowedCount":44,"usersFollowedByCount":140,"type":"SocialStats"}}}},"v":3,"b":"20260130-1005-root"}