{"success":true,"payload":{"value":{"id":"f523c99de79c","versionId":"677dd6615af","creatorId":"abdbfcd4679f","homeCollectionId":"23738d481ce8","title":"Building data binding in the browser","detectedLanguage":"en","latestVersion":"677dd6615af","latestPublishedVersion":"677dd6615af","hasUnpublishedEdits":false,"latestRev":1079,"createdAt":1499187028905,"updatedAt":1529208888207,"acceptedAt":0,"firstPublishedAt":1499197404977,"latestPublishedAt":1499197404977,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"Data binding, or updating the view (usually UI) from your application’s code is probably the holy grail of browser-based web frameworks —…","bodyModel":{"paragraphs":[{"name":"9814","type":3,"text":"Building data binding in the browser","markups":[]},{"name":"c111","type":4,"text":"Data binding as popularized by the Angular (MVC-style). Lots of arrows and pictures. That’s always a good sign.","markups":[],"layout":1,"metadata":{"id":"1*QUn_zBM0SBDRG4TtMBiM2A.png","originalWidth":838,"originalHeight":426}},{"name":"4f1e","type":1,"text":"Data binding, or updating the view (usually UI) from your application’s code is probably the holy grail of browser-based web frameworks — the reason they exist, and the reason web standards have tried to shift in order to make it easier to “use the platform”.","markups":[{"type":3,"start":176,"end":209,"href":"https://developers.google.com/web/fundamentals/getting-started/primers/customelements","title":"","rel":"","anchorType":0},{"type":2,"start":0,"end":12},{"type":2,"start":93,"end":103}],"hasDropCap":true},{"name":"724d","type":1,"text":"In this blog post I’ll be reviewing four forms of data binding, and writing a simple library/throw-away framework for each — mostly as a learning experience. I’ll be using Dart, which is a high-level programming language I work on at Google (where I work on the AngularDart team), but most of the concepts below apply to JavaScript, TypeScript, or OtherScript flavors.","markups":[{"type":3,"start":172,"end":176,"href":"https://www.dartlang.org/","title":"","rel":"","anchorType":0},{"type":2,"start":172,"end":176},{"type":2,"start":285,"end":289},{"type":2,"start":348,"end":353}]},{"name":"a4a0","type":1,"text":"Behold, the four horsemen of the data-binding apocalypse:","markups":[]},{"name":"66b3","type":9,"text":"Static templating","markups":[]},{"name":"9832","type":9,"text":"Manual data-binding (i.e. just using the DOM)","markups":[]},{"name":"2888","type":9,"text":"MVC-style data-binding (as popularized by Angular)","markups":[]},{"name":"6520","type":9,"text":"Reactive data-binding (as popularized by React)","markups":[]},{"name":"1802","type":1,"text":"If you’re just interested in the code, it’s all available on GitHub:","markups":[]},{"name":"25c8","type":1,"text":"One quick note — nothing here is optimized, and I’ve taken some shortcuts to make this tutorial achievable in about an hour, which means I didn’t write any pre-processors or code generators — and instead I’ve hand-written what generated code would look like; those files end in “.g.dart”.","markups":[{"type":1,"start":0,"end":15},{"type":2,"start":0,"end":288}]},{"name":"8cd7","type":14,"text":"matanlurey/building-data-binding\nbuilding-data-binding - Accompanying code for \"Building Data Binding in the Browser\"github.com","markups":[{"type":3,"start":0,"end":127,"href":"https://github.com/matanlurey/building-data-binding","title":"https://github.com/matanlurey/building-data-binding","rel":"","anchorType":0},{"type":1,"start":0,"end":32},{"type":2,"start":33,"end":117}],"mixtapeMetadata":{"mediaResourceId":"68537c9a4f910637e930f5d133ee56e9","thumbnailImageId":"0*QVBz3DSv-QKuugcc.","href":"https://github.com/matanlurey/building-data-binding"}},{"name":"988e","type":13,"text":"Static templating","markups":[]},{"name":"9b54","type":1,"text":"As popularized mostly by server-side frameworks, such as those in PHP, Python, Ruby, and such — they emit static HTML that is transferred and displayed (usually) directly in the browser. Most non-JavaScript sites with any sort of backend use this strategy.","markups":[{"type":2,"start":25,"end":36},{"type":2,"start":106,"end":112}]},{"name":"c50a","type":1,"text":"So, at it’s core, you are just returning plain-HTML. Some newer web frameworks also allow server-side rendering (i.e. using your same client-side code to render all or part of the HTML on the server), but that is beyond the scope of this article.","markups":[{"type":2,"start":90,"end":111}]},{"name":"54ac","type":1,"text":"Because Dart (and most OtherScripts, at this point) have interpolation, or the ability to evaluate and create strings at runtime, doing a very basic form of static templating is extremely easy:","markups":[{"type":3,"start":57,"end":70,"href":"https://www.dartlang.org/guides/language/language-tour#strings","title":"","rel":"","anchorType":0},{"type":2,"start":23,"end":35},{"type":2,"start":57,"end":70}]},{"name":"2471","type":11,"text":"I mean, this is the entire reason you read this blog, right?","markups":[],"layout":1,"iframe":{"mediaResourceId":"a59fe76bac4cd16c2f2ed0a74484658d","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"3ca7","type":1,"text":"Or, we can get a little fancier, and actually output some HTML. In this example, I’ll return a bulleted list of all the things I like to do on mondays:","markups":[{"type":2,"start":37,"end":45}]},{"name":"b9db","type":11,"text":"Yeah, I added indentation, but you don’t need to.","markups":[],"layout":1,"iframe":{"mediaResourceId":"2be87bba36f4ed8a78f78e09df6b95b9","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"163f","type":1,"text":"This outputs:","markups":[]},{"name":"7916","type":6,"text":"On Sunday: \n<ul>\n <li>sleep in</li>\n <li>eat brunch</li>\n <li>wash car</li>\n</ul>","markups":[]},{"name":"1cbd","type":1,"text":"Not exactly the best templating solution, but something like this can often work for lots of sites, and I’ve increasingly become a fan of using the simplest tool you can for a job, and only scaling up when you really really need it. If you really need a micro-library though —OK let’s write one.","markups":[{"type":2,"start":16,"end":20},{"type":2,"start":148,"end":156}]},{"name":"736e","type":1,"text":"What would you want a basic static templating library to do? Probably in this case handle creating HTML syntax for you so it’s less error prone, and give you some helper functions for creating common tags and such. First let’s design a class called Tag, which encapsulates a single HTML element, and a class called Node and Text:","markups":[{"type":2,"start":249,"end":252},{"type":2,"start":315,"end":319},{"type":2,"start":324,"end":328}]},{"name":"31ee","type":11,"text":"If anybody releases this code as a package I’m going even going to be surprised.","markups":[],"layout":1,"iframe":{"mediaResourceId":"622a72a74d1004e531162f65bb4d4a00","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"1aae","type":1,"text":"This roughly does the same as our above code, but we’ve implemented some abstractions — a Tag is an HTML element, and has any number of children, and Text is well — text. We’ve written more code than before, but perhaps this is nicer to have for some. It’s trivial to include things like HTML attributes, so I’ll skip that for now.","markups":[{"type":2,"start":90,"end":93},{"type":2,"start":150,"end":154}]},{"name":"1ef8","type":1,"text":"Personally though, one thing bothers me, which is using toString in order to output production code. I’m also a fan of the visitor pattern, which neatly separates this logic from our DSL:","markups":[{"type":3,"start":123,"end":138,"href":"https://en.wikipedia.org/wiki/Visitor_pattern","title":"","rel":"","anchorType":0},{"type":2,"start":56,"end":64}]},{"name":"d5ce","type":11,"text":"I really like this post on StackOverflow if you want to learn more about the Visitor pattern.","markups":[{"type":3,"start":14,"end":23,"href":"https://stackoverflow.com/questions/255214/when-should-i-use-the-visitor-design-pattern","title":"","rel":"","anchorType":0}],"layout":1,"iframe":{"mediaResourceId":"06d41267c27d3f3f57beb0d9e92a6fe9","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"ff40","type":1,"text":"Again, more code. But now if I want indented/formatted HTML syntax, or to add validation logic, or anything else, I can implement a new Visitor and I don’t have to change any of my other classes. Cool!","markups":[{"type":2,"start":7,"end":16},{"type":2,"start":136,"end":143}]},{"name":"8ec6","type":1,"text":"Finally, let’s wire up a very basic HTTP server using my new “library”. In this case, I’ll have it automatically listen on port 8080, and have it emit my TODO list for me:","markups":[]},{"name":"4b92","type":11,"text":"I’m ready to go to production!","markups":[],"layout":1,"iframe":{"mediaResourceId":"d9c201593a7a7c1c3996534db9d6d2b0","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"1d46","type":1,"text":"(One thing I especially like about Dart is I didn’t have to import any 3rd party library to do this, setup any special tools, and I got static analysis to help me figure out how to set the ContentType header without Googling anything).","markups":[{"type":2,"start":0,"end":235}]},{"name":"a765","type":1,"text":"Pretty boring, but it works! If you want to write your own server like this, I’d first check out the, in the order provided (again, I’m a huge fan of using the least libraries, as possible, for a given task):","markups":[]},{"name":"c1bb","type":9,"text":"dart:io, the standard VM library (not available in the browser)","markups":[{"type":3,"start":0,"end":7,"href":"https://www.dartlang.org/articles/dart-vm/io","title":"","rel":"","anchorType":0}]},{"name":"c358","type":9,"text":"shelf, a middleware-based server technology like Express for NodeJS","markups":[{"type":3,"start":0,"end":5,"href":"https://pub.dartlang.org/packages/shelf","title":"","rel":"","anchorType":0}]},{"name":"4aa3","type":9,"text":"more full-featured frameworks like aqueduct or angel","markups":[{"type":3,"start":35,"end":43,"href":"http://aqueduct.io/","title":"","rel":"","anchorType":0},{"type":3,"start":47,"end":52,"href":"https://angel-dart.github.io/","title":"","rel":"","anchorType":0}]},{"name":"34b2","type":1,"text":"And that’s it. You can use similar techniques to render HTML in the browser, of course, but that’s rather boring, and you probably want the HTML to change when the user interacts with the page.","markups":[]},{"name":"fee5","type":13,"text":"Manual data-binding","markups":[]},{"name":"d226","type":1,"text":"Before the era of JavaScript web frameworks (when everything was more of a library), it was common to either write code directly against the DOM (in “vanilla” JavaScript) or to use a library like jQuery to remove browser differences and make common tasks easier.","markups":[{"type":3,"start":196,"end":202,"href":"https://jquery.com/","title":"","rel":"","anchorType":0},{"type":2,"start":0,"end":6}]},{"name":"feb2","type":1,"text":"Luckily dart:html is a high-level library provided by the Dart SDK, and even in JavaScript modern-day browsers are full featured enough not to need a library for simple data-binding. What if I want to bring my new “Sunday TODO list” — and be able to check-off (delete) items as I finish them?","markups":[{"type":3,"start":8,"end":17,"href":"https://webdev.dartlang.org/tutorials/low-level-html/connect-dart-html","title":"","rel":"","anchorType":0}]},{"name":"bef9","type":4,"text":"The world’s greatest UI","markups":[],"layout":1,"metadata":{"id":"1*ggiMuy98lvPyUWVcf-HOFA.png","originalWidth":330,"originalHeight":142}},{"name":"2f53","type":1,"text":"Enter manual data binding. Instead of relying on any framework or specific library, I will just create HTML elements, and listen to events in order to know when to update the DOM, all myself.","markups":[{"type":2,"start":6,"end":12}]},{"name":"25ed","type":11,"text":"She may not look like much, but she’s got it where it counts, kid.","markups":[],"layout":1,"iframe":{"mediaResourceId":"ee10a485dc046852e85945db84f249ce","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"488e","type":1,"text":"Again, pretty boring. But if I was really making a simple TODO app just like this, not too bad. Dart’s .. or method cascades make this relatively terse, and I could add other basic behavior pretty easily.","markups":[{"type":10,"start":103,"end":105},{"type":3,"start":109,"end":124,"href":"http://news.dartlang.org/2012/02/method-cascades-in-dart-posted-by-gilad.html","title":"","rel":"","anchorType":0},{"type":2,"start":135,"end":146}]},{"name":"f87b","type":1,"text":"More or less, every other form of data/template-binding is trying to do the above — build some DOM, and update the DOM when something happens — but either in a (a) more performant, (b) more elegant, (c) more ergonomic, and/or (d) more modular way.","markups":[{"type":2,"start":76,"end":84}]},{"name":"1e56","type":3,"text":"Automatic data-binding","markups":[]},{"name":"05f6","type":1,"text":"As of the current browser specifications, nothing exists to make this easier. Some might argue that’s the reason WebComponents V1 hasn’t taken off compared to existing frameworks — frameworks have made it so easy and/or ergonomic to build and update DOM that nobody wants to go backwards.","markups":[{"type":2,"start":70,"end":76}]},{"name":"6abc","type":1,"text":"I work on the AngularDart team, so I’ll be showing an example next of MVC-style data binding (as popularized by Angular, but I’m told Ember is another excellent example — and I’m sure there are many many others).","markups":[]},{"name":"0a93","type":13,"text":"MVC-style data-binding","markups":[]},{"name":"f406","type":1,"text":"The crux of MVC is separation of logic between the view (in the browser this is usually the DOM) and the controller (in the browser this is usually your JavaScript). I’ll skip the m or model, for now.","markups":[{"type":2,"start":51,"end":57},{"type":2,"start":180,"end":181}]},{"name":"f882","type":1,"text":"Angular popularized (or at least attempted) the idea that you should be able to write plain-old dumb-objects (PODOs), include any logic you want, and it “just bind” to an HTML template. Consider the following MVC-style encapsulation of our Sunday TODO list:","markups":[]},{"name":"def0","type":11,"text":"I admit this used to make my eyes bleed a bit, but you get used to it.","markups":[],"layout":1,"iframe":{"mediaResourceId":"ad87f17e3116b07d53b511397a966bb9","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"0e20","type":1,"text":"So what do you think? There are some advantages and disadvantages here:","markups":[]},{"name":"abcc","type":1,"text":"PROs:","markups":[{"type":1,"start":0,"end":4}]},{"name":"9bc0","type":9,"text":"You’re able to encapsulate much/all of your view logic in a single file.","markups":[]},{"name":"8a66","type":9,"text":"While non-standard, this is fairly readable to even non-coders with as little as some sort of “cheat-sheet” that explains additions to the HTML specification for your templating language.","markups":[{"type":2,"start":28,"end":35}]},{"name":"f05a","type":9,"text":"You didn’t write any actual code — so a framework with a good ahead-of-time preprocessor can “compile” this, potentially efficiently, to JavaScript/DOM invocations.","markups":[]},{"name":"32ed","type":1,"text":"CONs:","markups":[{"type":1,"start":0,"end":4}]},{"name":"1d1c","type":9,"text":"If you don’t buy into the MVC religion, you might not like this file.","markups":[]},{"name":"765a","type":9,"text":"Even though you might have mastered HTML/CSS and Dart or JavaScript, you and your developers have to learn yet-another-thing that is neither of those.","markups":[]},{"name":"cdda","type":9,"text":"You didn’t write any actual code — so you are more or less hoping the framework authors are going to preprocess/compile this efficiently and the output is going to be nearly as good as if you would have wrote the data binding manually (hint: it almost never is).","markups":[{"type":2,"start":236,"end":241}]},{"name":"4b05","type":1,"text":"I didn’t show any “controller” code yet, so let’s write a simple class:","markups":[]},{"name":"b3db","type":11,"text":"You can get promoted at your job for writing this code. Just write it 1000 times.","markups":[],"layout":1,"iframe":{"mediaResourceId":"46a71bbf755eb0dcfb83880de34ca232","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"211b","type":1,"text":"Getting this to “just work” is going to require… writing a framework. This is a blog post, so instead of actually writing a parser for our template language, a pre-processor/compiler, we’ll simply hand-write the code a generator would otherwise create.","markups":[]},{"name":"b222","type":1,"text":"First lets establish our “framework”. I’m going to make it simple:","markups":[]},{"name":"f7bc","type":11,"text":"I’m really bad at naming.","markups":[],"layout":1,"iframe":{"mediaResourceId":"8f995f4ff0f40592ada09077d568844a","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"702e","type":1,"text":"I’ve created two abstractions, a Controller, or a class I’ll extend to create my business logic (in Angular this is commonly a component), and a View, or the representation of my HTML file as plain Dart (or later, JavaScript).","markups":[{"type":2,"start":33,"end":43},{"type":2,"start":127,"end":136},{"type":2,"start":145,"end":149}]},{"name":"ccbc","type":1,"text":"Let’s create the generated code, or “view”, first:","markups":[]},{"name":"6ceb","type":11,"text":"Yes, basically most of this is intentionally /// omg this code sucks. Writing frameworks is hard, even faking one.","markups":[],"layout":1,"iframe":{"mediaResourceId":"20bca75d14ae7957e3e05f5d5fe6a2ab","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"d3ee","type":1,"text":"I took some shortcuts above, for example, items only updates when the list’s length changes, and I’m not maintaining state at all, so if the list updates I blow away the existing DOM and create new DOM. A typical framework (including Angular) would be much smarter about this — but part of this article is showing exactly how much work behind-the-scenes is happening for even the simplest data-binding.","markups":[{"type":2,"start":42,"end":47}]},{"name":"0218","type":1,"text":"Finally, let’s update our controller to use our framework:","markups":[]},{"name":"7d92","type":11,"text":"Code everyone would be proud of owning.","markups":[],"layout":1,"iframe":{"mediaResourceId":"dafafa14f52fb05e6c8c5aed1e4d1092","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"a57a","type":1,"text":"And put it all together in main.dart:","markups":[{"type":2,"start":27,"end":36}]},{"name":"ed48","type":11,"text":"Whew, finally done.","markups":[],"layout":1,"iframe":{"mediaResourceId":"15ce4c85e0a67fa384f1d5a26aeba209","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"7c3f","type":1,"text":"Now we have an Angular-style MVC framework, and I imagine it would take anywhere between a few hours and a few days (or weeks, or months) to create a code generator for automatically emitting the .g.dart file for you, depending on how simple or complex you want to go. That’s out of scope of this article though.","markups":[{"type":2,"start":15,"end":28}]},{"name":"b1bb","type":13,"text":"Reactive-style data-binding","markups":[]},{"name":"197b","type":1,"text":"The FP or reactive approach to data-binding is different — instead of separating your view and controller logic, you instead model your application as functions (or classes) that take as inputs values (data) and emit as output “view” (html in this case).","markups":[]},{"name":"37d8","type":1,"text":"This is the approach taken by React, Vue, and even Flutter.","markups":[{"type":3,"start":51,"end":58,"href":"https://flutter.io","title":"","rel":"","anchorType":0}]},{"name":"65a9","type":1,"text":"Consider the following:","markups":[]},{"name":"f4a8","type":11,"text":"I realize this isn’t a pure function, sue me.","markups":[],"layout":1,"iframe":{"mediaResourceId":"01ab9a6de5ed30d651815798a1259f39","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"59fc","type":1,"text":"This is actually not too different from what we did above in static template binding, except that modern day libraries and frameworks use a series of algorithms in order to minimize impact on the DOM. For example, if you remove a single <li> a typical framework like React won’t rebuild anything.","markups":[{"type":10,"start":237,"end":241},{"type":2,"start":61,"end":84},{"type":2,"start":267,"end":272}]},{"name":"e823","type":1,"text":"PROs:","markups":[{"type":1,"start":0,"end":4}]},{"name":"bbd4","type":9,"text":"You’re able to encapsulate all your “component's” logic in a single place.","markups":[]},{"name":"417b","type":9,"text":"Doesn’t require any special pre-processing or compilers.","markups":[]},{"name":"7727","type":9,"text":"For programs written with say, the Flutter SDK, your IDE becomes your god. Auto-complete all-the-things, and you never even need to learn how to type (sort of).","markups":[{"type":3,"start":48,"end":73,"href":"https://flutter.io/intellij-ide/","title":"","rel":"","anchorType":0}]},{"name":"3eed","type":9,"text":"Easy to use but optional tools like JSX can make this quite a bit terser.","markups":[{"type":3,"start":16,"end":39,"href":"https://facebook.github.io/react/docs/introducing-jsx.html","title":"","rel":"","anchorType":0}]},{"name":"2206","type":1,"text":"CONs:","markups":[{"type":1,"start":0,"end":4}]},{"name":"657e","type":9,"text":"Like before, the MVC purists (and parts of various companies’ web platform DevRel teams) might scream a bit — you are now putting HTML, JavaScript, and potentially CSS in a JavaScript function (or class).","markups":[]},{"name":"03fb","type":9,"text":"Unlike something like Angular (though it has its own problems), you can’t really “inspect” the code outputted by this function, that is, you have to be very familiar with idiosyncrasies of the framework when optimizing lists of thousands of items, lazy scrolling, so on and so forth.","markups":[]},{"name":"b72d","type":1,"text":"I promised I’d write a simple library for a reactive-style data-binding framework, but I decided by the end of this article it had already been done better by my colleague Yegor with his framework “Butterfly”:","markups":[]},{"name":"09d0","type":14,"text":"yjbanov/butterfly\nbutterfly - A web framework for Dart based on Flutter's widget modelgithub.com","markups":[{"type":3,"start":0,"end":96,"href":"https://github.com/yjbanov/butterfly","title":"https://github.com/yjbanov/butterfly","rel":"","anchorType":0},{"type":1,"start":0,"end":17},{"type":2,"start":18,"end":86}],"mixtapeMetadata":{"mediaResourceId":"fc3f5e4c0b377a076c8a9163ef69d6c0","thumbnailImageId":"0*mC9GWhN0QE2u20u0.","href":"https://github.com/yjbanov/butterfly"}},{"name":"c186","type":11,"text":"Yegor owes me a coffee for every 10 stars his project gets on GitHub.","markups":[],"layout":1,"iframe":{"mediaResourceId":"f3eab03e6420bf7b60a39f7f8a538d4f","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07"}},{"name":"0d3d","type":3,"text":"So what is the conclusion?","markups":[]},{"name":"ae9e","type":1,"text":"There is none, so sorry to disappoint if you made down this far looking for a benchmark table or something to use to justify the 200 hours you spent migrating a project to the latest-and-greatest framework. Arguably each approach has strengths and weaknesses, and I’ve seen more frameworks start to use hybrid models in places as well.","markups":[]},{"name":"1ee4","type":1,"text":"Some general rules of thumb to take home:","markups":[]},{"name":"e637","type":9,"text":"Data-binding is hard. Remember that the next time you ask why there isn’t a “simple lightweight data-binding library that just does X and Y”.","markups":[{"type":1,"start":0,"end":20}]},{"name":"f637","type":9,"text":"Template systems are built around tradeoffs. You either trade-off ergonomics, speed, or complexity. I’ve yet to use a single framework that completely succeeds at everything — and my guess is nobody else has ever given the number of frameworks and models that exist.","markups":[{"type":1,"start":0,"end":43}]},{"name":"bf33","type":9,"text":"If you are building your own site, and are tempted to write a “micro” framework, start simple. Do just the smallest amount of things possible, and only add complexity when it solves a big problem. Boiler-plate itself isn’t evil — just boiler-plate that is error prone and hard to write correctly.","markups":[{"type":1,"start":81,"end":93},{"type":1,"start":197,"end":227},{"type":2,"start":184,"end":187},{"type":2,"start":286,"end":295}]},{"name":"b1b0","type":1,"text":"I’d be interested to hear from readers what they thought, and if they’d like me to go into any more detail on any given subject. Have a wonderful July 4th!","markups":[]}],"sections":[{"name":"3bcc","startIndex":0},{"name":"5fdd","startIndex":12},{"name":"bb4f","startIndex":36},{"name":"9837","startIndex":44},{"name":"8799","startIndex":88},{"name":"d0f8","startIndex":91}]},"postDisplay":{"coverless":true}},"virtuals":{"statusForCollection":"APPROVED","allowNotes":true,"previewImage":{"imageId":"1*QUn_zBM0SBDRG4TtMBiM2A.png","filter":"","backgroundSize":"","originalWidth":838,"originalHeight":426,"strategy":"resample","height":0,"width":0},"wordCount":2170,"imageCount":2,"readingTime":8.572012578616352,"subtitle":"Data binding, or updating the view (usually UI) from your application’s code is probably the holy grail of browser-based web frameworks —…","userPostRelation":{"userId":"8b6a7f6f197d","postId":"f523c99de79c","readAt":0,"readLaterAddedAt":0,"votedAt":0,"collaboratorAddedAt":0,"notesAddedAt":0,"subscribedAt":0,"lastReadSectionName":"","lastReadVersionId":"","lastReadAt":0,"lastReadParagraphName":"","lastReadPercentage":0,"viewedAt":0,"presentedCountInResponseManagement":0,"clapCount":0,"seriesUpdateNotifsOptedInAt":0,"queuedAt":0,"seriesFirstViewedAt":0,"presentedCountInStream":2,"seriesLastViewedAt":0,"audioProgressSec":0},"publishedInCount":1,"usersBySocialRecommends":[],"noIndex":false,"recommends":30,"isBookmarked":false,"tags":[{"slug":"javascript","name":"JavaScript","postCount":252158,"metadata":{"postCount":252158,"coverImage":{"id":"1*xqni95gWZ1hGKjt28SbpKA.png","originalWidth":1536,"originalHeight":1024}},"type":"Tag"},{"slug":"dart","name":"Dart","postCount":13858,"metadata":{"postCount":13858,"coverImage":{"id":"1*rQugDrmwFFsEDL_CqSBJNw.png","originalWidth":1536,"originalHeight":1024,"isFeatured":true}},"type":"Tag"},{"slug":"react","name":"React","postCount":100772,"metadata":{"postCount":100772,"coverImage":{"id":"1*HaEKrHCYe6TYkjXYIEj7gg.png","originalWidth":1286,"originalHeight":1170,"isFeatured":true}},"type":"Tag"},{"slug":"framework","name":"Framework","postCount":9136,"metadata":{"postCount":9136,"coverImage":{"id":"1*qbJgcEIZqSG6_VaRoRB-ow.png","originalWidth":1536,"originalHeight":1024,"isFeatured":true}},"type":"Tag"},{"slug":"angular","name":"Angular","postCount":33264,"metadata":{"postCount":33264,"coverImage":{"id":"0*G4bFF70MkNvTQil0","originalWidth":1536,"originalHeight":1024,"isFeatured":true}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":3,"links":{"entries":[{"url":"https://en.wikipedia.org/wiki/Visitor_pattern","alts":[],"httpStatus":200},{"url":"https://facebook.github.io/react/docs/introducing-jsx.html","alts":[],"httpStatus":200},{"url":"https://angel-dart.github.io/","alts":[],"httpStatus":200},{"url":"https://flutter.io","alts":[],"httpStatus":200},{"url":"https://flutter.io/intellij-ide/","alts":[],"httpStatus":200},{"url":"http://aqueduct.io/","alts":[],"httpStatus":200},{"url":"http://news.dartlang.org/2012/02/method-cascades-in-dart-posted-by-gilad.html","alts":[],"httpStatus":200},{"url":"https://stackoverflow.com/questions/255214/when-should-i-use-the-visitor-design-pattern","alts":[],"httpStatus":200},{"url":"https://jquery.com/","alts":[],"httpStatus":200},{"url":"https://www.dartlang.org/","alts":[],"httpStatus":200},{"url":"https://github.com/yjbanov/butterfly","alts":[],"httpStatus":200},{"url":"https://webdev.dartlang.org/tutorials/low-level-html/connect-dart-html","alts":[],"httpStatus":200},{"url":"https://github.com/matanlurey/building-data-binding","alts":[],"httpStatus":200},{"url":"https://www.dartlang.org/guides/language/language-tour#strings","alts":[],"httpStatus":200},{"url":"https://pub.dartlang.org/packages/shelf","alts":[],"httpStatus":200},{"url":"https://developers.google.com/web/fundamentals/getting-started/primers/customelements","alts":[],"httpStatus":200},{"url":"https://www.dartlang.org/articles/dart-vm/io","alts":[],"httpStatus":200}],"version":"0.3","generatedAt":1499197405866},"isLockedPreviewOnly":false,"metaDescription":"","totalClapCount":173,"sectionCount":6,"readingList":0,"topics":[{"topicId":"decb52b64abf","slug":"programming","createdAt":1493934116328,"deletedAt":0,"image":{"id":"1*iPa136b1cGEO7lvoXg6uHQ@2x.jpeg","originalWidth":6016,"originalHeight":4016},"name":"Programming","description":"The good, the bad, the buggy.","relatedTopics":[],"visibility":1,"relatedTags":[],"relatedTopicIds":[],"seoTitle":"Programming News and Articles — Medium","type":"Topic"}]},"coverless":true,"slug":"building-data-binding-in-the-browser","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"building-data-binding-in-the-browser-f523c99de79c","previewContent":{"bodyModel":{"paragraphs":[{"name":"9814","type":3,"text":"Building data binding in the browser","markups":[],"alignment":1},{"name":"c111","type":4,"text":"","markups":[],"layout":9,"metadata":{"id":"1*QUn_zBM0SBDRG4TtMBiM2A.png","originalWidth":838,"originalHeight":426}},{"name":"4f1e","type":1,"text":"Data binding, or updating the view (usually UI) from your application’s code is probably the…","markups":[{"type":2,"start":0,"end":12}],"hasDropCap":true,"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false,"subtitle":"Data binding, or updating the view (usually UI) from your application’s code is probably the holy grail of browser-based web frameworks —…"},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://blog.dart.dev/building-data-binding-in-the-browser-f523c99de79c","approvedHomeCollectionId":"23738d481ce8","isNewsletter":false,"newsletterId":"","webCanonicalUrl":"https://blog.dart.dev/building-data-binding-in-the-browser-f523c99de79c","mediumUrl":"https://blog.dart.dev/building-data-binding-in-the-browser-f523c99de79c","migrationId":"","notifyFollowers":true,"notifyTwitter":true,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"audioVersionDurationSec":0,"sequenceId":"","isEligibleForRevenue":false,"isBlockedFromHightower":false,"deletedAt":0,"lockedPostSource":0,"hightowerMinimumGuaranteeStartsAt":0,"hightowerMinimumGuaranteeEndsAt":0,"featureLockRequestAcceptedAt":0,"mongerRequestType":1,"layerCake":0,"socialTitle":"","socialDek":"","editorialPreviewTitle":"","editorialPreviewDek":"","curationEligibleAt":0,"isProxyPost":false,"proxyPostFaviconUrl":"","proxyPostProviderName":"","proxyPostType":0,"isSuspended":false,"isLimitedState":false,"seoTitle":"","previewContent2":{"bodyModel":{"paragraphs":[{"name":"9814","type":3,"text":"Building data binding in the browser","markups":[]},{"name":"c111","type":4,"text":"Data binding as popularized by the Angular (MVC-style). Lots of arrows and pictures. That’s always…","markups":[],"layout":1,"metadata":{"id":"1*QUn_zBM0SBDRG4TtMBiM2A.png","originalWidth":838,"originalHeight":426}},{"name":"4f1e","type":1,"text":"Data binding, or updating the view (usually UI) from your application’s code is probably the holy grail of browser-based web frameworks — the reason they exist, and the reason web standards have tried to shift in order to make it easier to “use the platform”.","markups":[{"type":3,"start":176,"end":209,"href":"https://developers.google.com/web/fundamentals/getting-started/primers/customelements","title":"","rel":"","anchorType":0},{"type":2,"start":0,"end":12},{"type":2,"start":93,"end":103}],"hasDropCap":true},{"name":"724d","type":1,"text":"In this blog post I’ll…","markups":[{"type":3,"start":172,"end":176,"href":"https://www.dartlang.org/","title":"","rel":"","anchorType":0},{"type":2,"start":172,"end":176},{"type":2,"start":285,"end":289},{"type":2,"start":348,"end":353}]}],"sections":[{"name":"3bcc","startIndex":0}]},"isFullContent":false,"subtitle":"Data binding, or updating the view (usually UI) from your application’s code is probably the holy grail of browser-based web frameworks —…"},"cardType":0,"isDistributionAlertDismissed":false,"isShortform":false,"shortformType":0,"responsesLocked":false,"isLockedResponse":false,"isPublishToEmail":false,"responseDistribution":0,"isMarkedPaywallOnly":false,"type":"Post"},"mentionedUsers":[],"collaborators":[],"hideMeter":false,"shareKey":"928f122b2a0168119be3f6701aa23914","collectionUserRelations":[{"collectionId":"23738d481ce8","userId":"8b6a7f6f197d","role":"ADMIN"},{"collectionId":"4da7dfd21a33","userId":"8b6a7f6f197d","role":"WRITER"},{"collectionId":"24d8f4fa8912","userId":"8b6a7f6f197d","role":"WRITER"}],"mode":"canEdit","references":{"User":{"abdbfcd4679f":{"userId":"abdbfcd4679f","name":"Matan Lurey","username":"matanlurey","createdAt":1372786046546,"imageId":"1*u6xr1W5rpcIeBKWdKHYYxw.jpeg","backgroundImageId":"","bio":"Software engineer @Google and @Dart_Lang. Opinionated.","twitterScreenName":"matanlurey","socialStats":{"userId":"abdbfcd4679f","usersFollowedCount":179,"usersFollowedByCount":589,"type":"SocialStats"},"social":{"userId":"8b6a7f6f197d","targetUserId":"abdbfcd4679f","type":"Social"},"allowNotes":1,"mediumMemberAt":0,"isWriterProgramEnrolled":true,"isSuspended":false,"isMembershipTrialEligible":true,"facebookDisplayName":"Matan Lurey","optInToIceland":true,"hasCompletedProfile":false,"hasSeenIcelandOnboarding":false,"postSubscribeMembershipUpsellShownAt":0,"languageCode":"en-us","type":"User"}},"Collection":{"23738d481ce8":{"id":"23738d481ce8","name":"Dart","slug":"dartlang","tags":["MOBILE APP DEVELOPMENT","WEB DEVELOPMENT","DART","PROGRAMMING LANGUAGES","SOFTWARE DEVELOPMENT"],"creatorId":"a6d788faa5e5","description":"Dart is an approachable, portable, and productive language for high-quality apps on any platform. Learn more at https://dart.dev.","shortDescription":"Dart is an approachable, portable, and productive language…","image":{"imageId":"1*uWy1Ajpd0oTUQBO9WBHoQg@2x.png","filter":"","backgroundSize":"","originalWidth":1001,"originalHeight":1001,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":14031,"activeAt":1762974121956},"virtuals":{"permissions":{"canPublish":true,"canPublishAll":true,"canRepublish":true,"canRemove":true,"canManageAll":true,"canSubmit":true,"canEditPosts":true,"canAddWriters":true,"canViewStats":true,"canSendNewsletter":true,"canViewLockedPosts":true,"canViewCloaked":true,"canEditOwnPosts":true,"canBeAssignedAuthor":true,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false,"canLockOwnPostsForMediumMembers":false,"canViewNewsletterV2Stats":true,"canCreateNewsletterV3":true},"isSubscribed":true,"isEnrolledInHightower":false,"isEligibleForHightower":false,"isSubscribedToCollectionEmails":false,"isMuted":false,"canToggleEmail":false,"isWriter":false},"logo":{"imageId":"1*NRb7RFVWJQFzY47j3v4U7Q.png","filter":"","backgroundSize":"","originalWidth":400,"originalHeight":154,"strategy":"resample","height":0,"width":0},"twitterUsername":"dart_lang","publicEmail":"medium@dartlang.org","domain":"blog.dart.dev","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Dart","description":"An approachable, portable, and productive language for high-quality apps on any platform","backgroundImage":{},"logoImage":{"id":"1*knHF_qpxdtS8h0Z8EeqowA@2x.png","originalWidth":1080,"originalHeight":1080,"alt":"Dart"},"alignment":2,"layout":5}},{"type":1,"postListMetadata":{"source":1,"layout":4,"number":7,"postIds":[]}},{"type":1,"postListMetadata":{"source":1,"layout":5,"number":15,"postIds":[]}}],"tintColor":"#FF042B59","lightText":true,"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF6588BA","point":0},{"color":"#FF607EAB","point":0.1},{"color":"#FF59759C","point":0.2},{"color":"#FF536B8E","point":0.3},{"color":"#FF4C617F","point":0.4},{"color":"#FF445670","point":0.5},{"color":"#FF3D4B61","point":0.6},{"color":"#FF344052","point":0.7},{"color":"#FF2B3442","point":0.8},{"color":"#FF212832","point":0.9},{"color":"#FF161A22","point":1}],"backgroundColor":"#FFFFFFFF"},"tintBackgroundSpectrum":{"colorPoints":[{"color":"#FF042B59","point":0},{"color":"#FF294871","point":0.1},{"color":"#FF456087","point":0.2},{"color":"#FF5F779B","point":0.3},{"color":"#FF788DAD","point":0.4},{"color":"#FF8FA2BF","point":0.5},{"color":"#FFA5B6CF","point":0.6},{"color":"#FFBBC9DF","point":0.7},{"color":"#FFD1DCEE","point":0.8},{"color":"#FFE6EEFC","point":0.9},{"color":"#FFFBFFFF","point":1}],"backgroundColor":"#FF042B59"},"highlightSpectrum":{"colorPoints":[{"color":"#FFECF3FF","point":0},{"color":"#FFE9F2FF","point":0.1},{"color":"#FFE5F0FF","point":0.2},{"color":"#FFE2EFFF","point":0.3},{"color":"#FFDEEDFF","point":0.4},{"color":"#FFDBEBFF","point":0.5},{"color":"#FFD7EAFF","point":0.6},{"color":"#FFD3E8FF","point":0.7},{"color":"#FFCFE6FF","point":0.8},{"color":"#FFCBE5FF","point":0.9},{"color":"#FFC8E3FF","point":1}],"backgroundColor":"#FFFFFFFF"},"darkBackgroundSpectrum":{"colorPoints":[{"color":"#FF7DA0D3","point":0},{"color":"#FF89A9D8","point":0.1},{"color":"#FF94B1DC","point":0.2},{"color":"#FFA0B9E0","point":0.3},{"color":"#FFABC1E3","point":0.4},{"color":"#FFB6C9E7","point":0.5},{"color":"#FFC0D1EB","point":0.6},{"color":"#FFCBD8EF","point":0.7},{"color":"#FFD5E0F2","point":0.8},{"color":"#FFE0E7F6","point":0.9},{"color":"#FFEAEFFA","point":1}],"backgroundColor":"#FF000000"}},"navItems":[{"type":1,"title":"Announcements","tagSlug":"announcements","url":"https://blog.dart.dev/tagged/announcements","source":"tagSlug"},{"type":5,"title":"Archive","url":"https://blog.dart.dev/archive"},{"type":3,"title":"dart.dev","url":"https://dart.dev"}],"colorBehavior":2,"collectionFeatures":[25],"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Dart","description":"An approachable, portable, and productive language for high-quality apps on any platform","backgroundImage":{},"logoImage":{"id":"1*knHF_qpxdtS8h0Z8EeqowA@2x.png","originalWidth":1080,"originalHeight":1080,"alt":"Dart"},"alignment":2,"layout":5},"subscriberCount":14031,"tagline":"Dart is a client-optimized language for fast apps on any platform.","isOptedIntoAurora":false,"isCurationAllowedByDefault":false,"polarisCoverImage":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"ptsQualifiedAt":1616092887098,"type":"Collection"}},"Social":{"abdbfcd4679f":{"userId":"8b6a7f6f197d","targetUserId":"abdbfcd4679f","type":"Social"}},"SocialStats":{"abdbfcd4679f":{"userId":"abdbfcd4679f","usersFollowedCount":179,"usersFollowedByCount":589,"type":"SocialStats"}}}},"v":3,"b":"20260130-1012-root"}