{"success":true,"payload":{"value":{"id":"d4de871865c7","versionId":"e3dec64ba38e","creatorId":"abdbfcd4679f","homeCollectionId":"23738d481ce8","title":"An intro to immutability with Dart","detectedLanguage":"en","latestVersion":"e3dec64ba38e","latestPublishedVersion":"e3dec64ba38e","hasUnpublishedEdits":false,"latestRev":264,"createdAt":1493002643559,"updatedAt":1527626292025,"acceptedAt":0,"firstPublishedAt":1493004531030,"latestPublishedAt":1493004531030,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"It’s impossible to deny that immutability is a hot topic in programming, especially front-end programming. Libraries like Immutable.js and…","bodyModel":{"paragraphs":[{"name":"234a","type":3,"text":"An intro to immutability with Dart","markups":[]},{"name":"3819","type":1,"text":"It’s impossible to deny that immutability is a hot topic in programming, especially front-end programming. Libraries like Immutable.js and other concepts like unidirectional data flow have argued it’s easier to reason about data when it doesn’t change underneath you:","markups":[{"type":3,"start":29,"end":41,"href":"https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=2&cad=rja&uact=8&ved=0ahUKEwiM4_LAjLzTAhWDKGMKHbnICLYQFggmMAE&url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FImmutable_object&usg=AFQjCNEkdj3g887nk6kENS9SYN-2xsqXpw&sig2=hZqSkCh5MKP-OX2w8YyjvQ","title":"","rel":"","anchorType":0},{"type":3,"start":122,"end":134,"href":"https://facebook.github.io/immutable-js/","title":"","rel":"","anchorType":0}]},{"name":"bfc6","type":6,"text":"In object-oriented and functional programming, an immutable object (unchangeable object) is an object whose state cannot be modified after it is created. This is in contrast to a mutable object (changeable object), which can be modified after it is created.","markups":[{"type":1,"start":50,"end":59}]},{"name":"e30c","type":1,"text":"Well, what about Dart? We have a couple concepts that lend themselves well to immutability and immutable objects built-in, starting with the const modifier and const constructor. Not to be confused with const in ES6, which is merely an immutable binding:","markups":[{"type":2,"start":141,"end":146},{"type":2,"start":160,"end":165},{"type":2,"start":203,"end":208}]},{"name":"57af","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"ea74deee818166289d71ec2e853c434b","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=4fce0568f2ce49e8b54624ef71a8a5bd"}},{"name":"d325","type":1,"text":"In Dart, const is both an immutable binding and an immutable object:","markups":[{"type":2,"start":9,"end":14},{"type":2,"start":44,"end":47}]},{"name":"7bd6","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"b5c3e18a4ded4290dc78862cec944a62","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=4fce0568f2ce49e8b54624ef71a8a5bd"}},{"name":"3542","type":1,"text":"All literals (Null, String, int, double, num, bool, Map, List, Symbol) are capable of being const, and it’s possible to create user-types with a const constructor:","markups":[{"type":2,"start":14,"end":69},{"type":2,"start":92,"end":97},{"type":2,"start":145,"end":150}]},{"name":"027d","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"edfbe695485a73786e4f6746cb8ca8d2","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=4fce0568f2ce49e8b54624ef71a8a5bd"}},{"name":"374a","type":1,"text":"Let’s review — const instances are both immutable bindings and enforced at a language level to be both deeply immutable — and also are canonicalized at compile-time — that is, any two instances are considered equivalent, and are only represented by a single instance when running. For example, the following is rather cheap — it only allocates a single instance at runtime:","markups":[{"type":2,"start":15,"end":20},{"type":2,"start":63,"end":71},{"type":2,"start":135,"end":149}]},{"name":"87b6","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"0e956977444eba775eb2be11833f0b5c","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=4fce0568f2ce49e8b54624ef71a8a5bd"}},{"name":"7eb4","type":1,"text":"Want to learn more? Read the Dart language tour about final and const.","markups":[{"type":3,"start":20,"end":69,"href":"https://www.dartlang.org/guides/language/language-tour#final-and-const","title":"","rel":"","anchorType":0}]},{"name":"d692","type":3,"text":"Further static checking with package:meta","markups":[]},{"name":"3bbb","type":1,"text":"Of course, const is a bit restrictive — you must be able to create a class at compile-time — so you couldn’t for example read a database and create const objects at runtime. We’ve recently introduced the “immutable” annotation with package:meta:","markups":[{"type":3,"start":232,"end":244,"href":"https://pub.dartlang.org/packages/meta","title":"","rel":"","anchorType":0},{"type":2,"start":11,"end":16},{"type":2,"start":148,"end":153}]},{"name":"b78e","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"41b36ef3a895268ca40ff6309867409e","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F168174%3Fv%3D3%26s%3D400&key=4fce0568f2ce49e8b54624ef71a8a5bd"}},{"name":"3323","type":1,"text":"You can use this annotation to help enforce that developers keep your classes deeply immutable. It won’t be canonicalized like const, but can still be quite helpful for developers.","markups":[{"type":2,"start":127,"end":132}]},{"name":"f5e5","type":1,"text":"I hope this was a nice introduction to immutability. Please let me know in the comments or on twitter if you’d like to learn more about Dart or immutability.","markups":[]}],"sections":[{"name":"e2e9","startIndex":0},{"name":"b1d2","startIndex":16}]},"postDisplay":{"coverless":true}},"virtuals":{"statusForCollection":"APPROVED","allowNotes":true,"previewImage":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"wordCount":349,"imageCount":0,"readingTime":1.3169811320754716,"subtitle":"It’s impossible to deny that immutability is a hot topic in programming, especially front-end programming. Libraries like Immutable.js and…","userPostRelation":{"userId":"8b6a7f6f197d","postId":"d4de871865c7","readAt":1611409460244,"readLaterAddedAt":0,"votedAt":0,"collaboratorAddedAt":0,"notesAddedAt":0,"subscribedAt":0,"lastReadSectionName":"","lastReadVersionId":"","lastReadAt":0,"lastReadParagraphName":"","lastReadPercentage":0,"viewedAt":1611409460244,"presentedCountInResponseManagement":0,"clapCount":0,"seriesUpdateNotifsOptedInAt":0,"queuedAt":0,"seriesFirstViewedAt":0,"presentedCountInStream":2,"seriesLastViewedAt":0,"audioProgressSec":0},"publishedInCount":1,"usersBySocialRecommends":[],"noIndex":false,"recommends":144,"isBookmarked":false,"tags":[{"slug":"javascript","name":"JavaScript","postCount":252158,"metadata":{"postCount":252158,"coverImage":{"id":"1*xqni95gWZ1hGKjt28SbpKA.png","originalWidth":1536,"originalHeight":1024}},"type":"Tag"},{"slug":"functional-programming","name":"Functional Programming","postCount":12455,"metadata":{"postCount":12455,"coverImage":{"id":"1*SGK8wfoODZs0BPXu6vAwyw.png","originalWidth":1024,"originalHeight":1024,"isFeatured":true}},"type":"Tag"},{"slug":"dart","name":"Dart","postCount":13858,"metadata":{"postCount":13858,"coverImage":{"id":"1*rQugDrmwFFsEDL_CqSBJNw.png","originalWidth":1536,"originalHeight":1024,"isFeatured":true}},"type":"Tag"},{"slug":"dartlang","name":"Dartlang","postCount":921,"metadata":{"postCount":921,"coverImage":{"id":"1*HNqQFQ2hdhAgjew1pIMqXA.png","originalWidth":2752,"originalHeight":1536,"isFeatured":true}},"type":"Tag"},{"slug":"immutable","name":"Immutable","postCount":587,"metadata":{"postCount":587,"coverImage":{"id":"1*sB5Iq0IGGwCdGfjXixBqoQ.png","originalWidth":1200,"originalHeight":630,"isFeatured":true,"focusPercentX":47,"focusPercentY":47}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":2,"links":{"entries":[],"version":"0.3","generatedAt":1493004531563},"isLockedPreviewOnly":false,"metaDescription":"","totalClapCount":703,"sectionCount":2,"readingList":0,"topics":[]},"coverless":true,"slug":"an-intro-to-immutability-with-dart","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"an-intro-to-immutability-with-dart-d4de871865c7","previewContent":{"bodyModel":{"paragraphs":[{"name":"234a","type":3,"text":"An intro to immutability with Dart","markups":[],"alignment":1},{"name":"3819","type":1,"text":"It’s impossible to deny that immutability is a hot topic in programming, especially front-end programming. Libraries like Immutable.js and other concepts like unidirectional data flow have argued it’s easier to reason about data when it doesn’t change underneath you:","markups":[{"type":3,"start":29,"end":41,"href":"https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=2&cad=rja&uact=8&ved=0ahUKEwiM4_LAjLzTAhWDKGMKHbnICLYQFggmMAE&url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FImmutable_object&usg=AFQjCNEkdj3g887nk6kENS9SYN-2xsqXpw&sig2=hZqSkCh5MKP-OX2w8YyjvQ","title":"","rel":"","anchorType":0},{"type":3,"start":122,"end":134,"href":"https://facebook.github.io/immutable-js/","title":"","rel":"","anchorType":0}],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false,"subtitle":"It’s impossible to deny that immutability is a hot topic in programming, especially front-end programming. Libraries like Immutable.js and…"},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://blog.dart.dev/an-intro-to-immutability-with-dart-d4de871865c7","approvedHomeCollectionId":"23738d481ce8","isNewsletter":false,"newsletterId":"","webCanonicalUrl":"https://blog.dart.dev/an-intro-to-immutability-with-dart-d4de871865c7","mediumUrl":"https://blog.dart.dev/an-intro-to-immutability-with-dart-d4de871865c7","migrationId":"","notifyFollowers":true,"notifyTwitter":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"audioVersionDurationSec":0,"sequenceId":"","isEligibleForRevenue":false,"isBlockedFromHightower":false,"deletedAt":0,"lockedPostSource":0,"hightowerMinimumGuaranteeStartsAt":0,"hightowerMinimumGuaranteeEndsAt":0,"featureLockRequestAcceptedAt":0,"mongerRequestType":1,"layerCake":0,"socialTitle":"","socialDek":"","editorialPreviewTitle":"","editorialPreviewDek":"","curationEligibleAt":0,"isProxyPost":false,"proxyPostFaviconUrl":"","proxyPostProviderName":"","proxyPostType":0,"isSuspended":false,"isLimitedState":false,"seoTitle":"","previewContent2":{"bodyModel":{"paragraphs":[{"name":"234a","type":3,"text":"An intro to immutability with Dart","markups":[]},{"name":"3819","type":1,"text":"It’s impossible to deny that immutability is a hot topic in programming, especially front-end programming. Libraries like Immutable.js and other concepts like unidirectional data flow have argued it’s easier to reason about data when it doesn’t change underneath you:","markups":[{"type":3,"start":29,"end":41,"href":"https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=2&cad=rja&uact=8&ved=0ahUKEwiM4_LAjLzTAhWDKGMKHbnICLYQFggmMAE&url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FImmutable_object&usg=AFQjCNEkdj3g887nk6kENS9SYN-2xsqXpw&sig2=hZqSkCh5MKP-OX2w8YyjvQ","title":"","rel":"","anchorType":0},{"type":3,"start":122,"end":134,"href":"https://facebook.github.io/immutable-js/","title":"","rel":"","anchorType":0}]},{"name":"bfc6","type":6,"text":"In object-oriented and functional programming, an immutable object (unchangeable object) is…","markups":[{"type":1,"start":50,"end":59}]}],"sections":[{"name":"e2e9","startIndex":0}]},"isFullContent":false,"subtitle":"It’s impossible to deny that immutability is a hot topic in programming, especially front-end programming. Libraries like Immutable.js and…"},"cardType":0,"isDistributionAlertDismissed":false,"isShortform":false,"shortformType":0,"responsesLocked":false,"isLockedResponse":false,"isPublishToEmail":false,"responseDistribution":0,"isMarkedPaywallOnly":false,"type":"Post"},"mentionedUsers":[],"collaborators":[],"hideMeter":false,"shareKey":"1ad7a81b0c6a8af981c1a887b94df0a4","collectionUserRelations":[{"collectionId":"23738d481ce8","userId":"8b6a7f6f197d","role":"ADMIN"},{"collectionId":"4da7dfd21a33","userId":"8b6a7f6f197d","role":"WRITER"},{"collectionId":"24d8f4fa8912","userId":"8b6a7f6f197d","role":"WRITER"}],"mode":"canEdit","references":{"User":{"abdbfcd4679f":{"userId":"abdbfcd4679f","name":"Matan Lurey","username":"matanlurey","createdAt":1372786046546,"imageId":"1*u6xr1W5rpcIeBKWdKHYYxw.jpeg","backgroundImageId":"","bio":"Software engineer @Google and @Dart_Lang. Opinionated.","twitterScreenName":"matanlurey","socialStats":{"userId":"abdbfcd4679f","usersFollowedCount":179,"usersFollowedByCount":589,"type":"SocialStats"},"social":{"userId":"8b6a7f6f197d","targetUserId":"abdbfcd4679f","type":"Social"},"allowNotes":1,"mediumMemberAt":0,"isWriterProgramEnrolled":true,"isSuspended":false,"isMembershipTrialEligible":true,"facebookDisplayName":"Matan Lurey","optInToIceland":true,"hasCompletedProfile":false,"hasSeenIcelandOnboarding":false,"postSubscribeMembershipUpsellShownAt":0,"languageCode":"en-us","type":"User"}},"Collection":{"23738d481ce8":{"id":"23738d481ce8","name":"Dart","slug":"dartlang","tags":["MOBILE APP DEVELOPMENT","WEB DEVELOPMENT","DART","PROGRAMMING LANGUAGES","SOFTWARE DEVELOPMENT"],"creatorId":"a6d788faa5e5","description":"Dart is an approachable, portable, and productive language for high-quality apps on any platform. Learn more at https://dart.dev.","shortDescription":"Dart is an approachable, portable, and productive language…","image":{"imageId":"1*uWy1Ajpd0oTUQBO9WBHoQg@2x.png","filter":"","backgroundSize":"","originalWidth":1001,"originalHeight":1001,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":14031,"activeAt":1762974121956},"virtuals":{"permissions":{"canPublish":true,"canPublishAll":true,"canRepublish":true,"canRemove":true,"canManageAll":true,"canSubmit":true,"canEditPosts":true,"canAddWriters":true,"canViewStats":true,"canSendNewsletter":true,"canViewLockedPosts":true,"canViewCloaked":true,"canEditOwnPosts":true,"canBeAssignedAuthor":true,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false,"canLockOwnPostsForMediumMembers":false,"canViewNewsletterV2Stats":true,"canCreateNewsletterV3":true},"isSubscribed":true,"isEnrolledInHightower":false,"isEligibleForHightower":false,"isSubscribedToCollectionEmails":false,"isMuted":false,"canToggleEmail":false,"isWriter":false},"logo":{"imageId":"1*NRb7RFVWJQFzY47j3v4U7Q.png","filter":"","backgroundSize":"","originalWidth":400,"originalHeight":154,"strategy":"resample","height":0,"width":0},"twitterUsername":"dart_lang","publicEmail":"medium@dartlang.org","domain":"blog.dart.dev","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Dart","description":"An approachable, portable, and productive language for high-quality apps on any platform","backgroundImage":{},"logoImage":{"id":"1*knHF_qpxdtS8h0Z8EeqowA@2x.png","originalWidth":1080,"originalHeight":1080,"alt":"Dart"},"alignment":2,"layout":5}},{"type":1,"postListMetadata":{"source":1,"layout":4,"number":7,"postIds":[]}},{"type":1,"postListMetadata":{"source":1,"layout":5,"number":15,"postIds":[]}}],"tintColor":"#FF042B59","lightText":true,"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF6588BA","point":0},{"color":"#FF607EAB","point":0.1},{"color":"#FF59759C","point":0.2},{"color":"#FF536B8E","point":0.3},{"color":"#FF4C617F","point":0.4},{"color":"#FF445670","point":0.5},{"color":"#FF3D4B61","point":0.6},{"color":"#FF344052","point":0.7},{"color":"#FF2B3442","point":0.8},{"color":"#FF212832","point":0.9},{"color":"#FF161A22","point":1}],"backgroundColor":"#FFFFFFFF"},"tintBackgroundSpectrum":{"colorPoints":[{"color":"#FF042B59","point":0},{"color":"#FF294871","point":0.1},{"color":"#FF456087","point":0.2},{"color":"#FF5F779B","point":0.3},{"color":"#FF788DAD","point":0.4},{"color":"#FF8FA2BF","point":0.5},{"color":"#FFA5B6CF","point":0.6},{"color":"#FFBBC9DF","point":0.7},{"color":"#FFD1DCEE","point":0.8},{"color":"#FFE6EEFC","point":0.9},{"color":"#FFFBFFFF","point":1}],"backgroundColor":"#FF042B59"},"highlightSpectrum":{"colorPoints":[{"color":"#FFECF3FF","point":0},{"color":"#FFE9F2FF","point":0.1},{"color":"#FFE5F0FF","point":0.2},{"color":"#FFE2EFFF","point":0.3},{"color":"#FFDEEDFF","point":0.4},{"color":"#FFDBEBFF","point":0.5},{"color":"#FFD7EAFF","point":0.6},{"color":"#FFD3E8FF","point":0.7},{"color":"#FFCFE6FF","point":0.8},{"color":"#FFCBE5FF","point":0.9},{"color":"#FFC8E3FF","point":1}],"backgroundColor":"#FFFFFFFF"},"darkBackgroundSpectrum":{"colorPoints":[{"color":"#FF7DA0D3","point":0},{"color":"#FF89A9D8","point":0.1},{"color":"#FF94B1DC","point":0.2},{"color":"#FFA0B9E0","point":0.3},{"color":"#FFABC1E3","point":0.4},{"color":"#FFB6C9E7","point":0.5},{"color":"#FFC0D1EB","point":0.6},{"color":"#FFCBD8EF","point":0.7},{"color":"#FFD5E0F2","point":0.8},{"color":"#FFE0E7F6","point":0.9},{"color":"#FFEAEFFA","point":1}],"backgroundColor":"#FF000000"}},"navItems":[{"type":1,"title":"Announcements","tagSlug":"announcements","url":"https://blog.dart.dev/tagged/announcements","source":"tagSlug"},{"type":5,"title":"Archive","url":"https://blog.dart.dev/archive"},{"type":3,"title":"dart.dev","url":"https://dart.dev"}],"colorBehavior":2,"collectionFeatures":[25],"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Dart","description":"An approachable, portable, and productive language for high-quality apps on any platform","backgroundImage":{},"logoImage":{"id":"1*knHF_qpxdtS8h0Z8EeqowA@2x.png","originalWidth":1080,"originalHeight":1080,"alt":"Dart"},"alignment":2,"layout":5},"subscriberCount":14031,"tagline":"Dart is a client-optimized language for fast apps on any platform.","isOptedIntoAurora":false,"isCurationAllowedByDefault":false,"polarisCoverImage":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"ptsQualifiedAt":1616092887098,"type":"Collection"}},"Social":{"abdbfcd4679f":{"userId":"8b6a7f6f197d","targetUserId":"abdbfcd4679f","type":"Social"}},"SocialStats":{"abdbfcd4679f":{"userId":"abdbfcd4679f","usersFollowedCount":179,"usersFollowedByCount":589,"type":"SocialStats"}}}},"v":3,"b":"20260130-1005-root"}