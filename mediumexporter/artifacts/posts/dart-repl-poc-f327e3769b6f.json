{"success":true,"payload":{"value":{"id":"f327e3769b6f","versionId":"dc1696703466","creatorId":"d0d2b2ab0896","homeCollectionId":"23738d481ce8","title":"A Dart REPL PoC","detectedLanguage":"en","latestVersion":"dc1696703466","latestPublishedVersion":"dc1696703466","hasUnpublishedEdits":false,"latestRev":1404,"createdAt":1484413811804,"updatedAt":1529282007988,"acceptedAt":0,"firstPublishedAt":1484688477290,"latestPublishedAt":1484737990906,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"Hacking with Dart","bodyModel":{"paragraphs":[{"name":"b935","type":3,"text":"A Dart REPL PoC","markups":[]},{"name":"d4ce","type":13,"text":"Hacking with Dart","markups":[]},{"name":"4954","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*lOBcrb2bYgKV6VYT.png"}},{"name":"656a","type":1,"text":"Python’s interactive mode is great. Dart does not have an interactive mode at the moment, but it is really good for prototyping ideas quickly, so let’s see if we can hack something together!","markups":[{"type":3,"start":0,"end":6,"href":"https://www.python.org/","title":"","rel":"","anchorType":0},{"type":3,"start":36,"end":40,"href":"http://dartlang.org/","title":"","rel":"","anchorType":0}]},{"name":"740e","type":1,"text":"Disclaimer: I do work for Google, but this post is about a personal project. I’m not on the Dart team or related. This is just my humble opinion and my story. Come along.","markups":[{"type":2,"start":0,"end":170}]},{"name":"549b","type":1,"text":"The interactive mode in languages like Python or Ruby has helped make them very approachable for beginners. But these are not the only ones that use the concept of a REPL. A REPL is a read-eval-print loop. Shells like BASH or zsh also employ REPLs when you interact with them in a terminal. It is also what you get when you work with notebooks in Jupyter (IPython Notebooks), Matlab, Mathematica or Maple. This way of interactive computing is very popular with researchers.","markups":[{"type":3,"start":166,"end":170,"href":"https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop","title":"","rel":"","anchorType":0},{"type":3,"start":347,"end":354,"href":"http://jupyter.org/","title":"","rel":"","anchorType":0},{"type":3,"start":376,"end":382,"href":"https://www.mathworks.com/products/matlab.html","title":"","rel":"","anchorType":0},{"type":3,"start":384,"end":395,"href":"https://www.wolfram.com/mathematica/","title":"","rel":"","anchorType":0},{"type":3,"start":399,"end":404,"href":"https://www.maplesoft.com/products/maple/","title":"","rel":"","anchorType":0}]},{"name":"9ac1","type":1,"text":"This is what Python’s interactive mode looks like:","markups":[]},{"name":"f55c","type":4,"text":"Good ol’ Python REPL","markups":[],"layout":1,"metadata":{"id":"1*sqspbSjstPhKIsIbZBDq-Q.gif","originalWidth":866,"originalHeight":594},"href":"https://asciinema.org/a/99317"},{"name":"0ff8","type":1,"text":"Dart does not support evaluating statements in a global scope like Python, so there is no obvious way to do it correctly. In Dart, statements have to be inside functions and the main function is the entry point of a program. Just like in C++ or C#. Personally, I prefer this as it makes it easier to figure out what is happening when a program runs. But… I’d still really want an interactive mode. It would allow me to play around with ideas and try things out even faster. So let’s see if we can create a REPL as a proof of concept!","markups":[]},{"name":"6d72","type":3,"text":"How can we create a REPL in dart?","markups":[]},{"name":"b68d","type":1,"text":"Dart is really good for prototyping. So let’s do just that and not get bogged down by language design questions :)","markups":[]},{"name":"ea6b","type":1,"text":"Now there is no eval function like in JavaScript or Python, and I don’t want to write a full blown interpreter myself to implement one. It wouldn’t be very fast and I don’t have a lot of time either. However, when you debug Dart code in Intellij, you can evaluate expressions while you step through your code. Evaluating expressions is very much what we’d like to do, isn’t it? Can we use this feature?","markups":[{"type":10,"start":16,"end":20},{"type":3,"start":224,"end":245,"href":"https://www.dartlang.org/tools/jetbrains-plugin","title":"","rel":"","anchorType":0}]},{"name":"7603","type":1,"text":"Dart’s debugging capabilities are exposed through its VM service. It is an JSON-RPC service provided by the Dart VM that you can connect to to debug your application. Natalie Weizenbaum has published an article about the vm_service_client package that provides a very nice API to interact with the VM service: http://news.dartlang.org/2016/05/unboxing-packages-vmserviceclient.html","markups":[{"type":10,"start":221,"end":238},{"type":3,"start":54,"end":64,"href":"https://github.com/dart-lang/sdk/blob/master/runtime/vm/service/service.md","title":"","rel":"","anchorType":0},{"type":3,"start":108,"end":115,"href":"https://www.dartlang.org/dart-vm","title":"","rel":"","anchorType":0},{"type":3,"start":167,"end":185,"anchorType":2,"userId":"a81c627aeff9"},{"type":3,"start":310,"end":381,"href":"http://news.dartlang.org/2016/05/unboxing-packages-vmserviceclient.html","title":"","rel":"nofollow","anchorType":0}]},{"name":"51d4","type":1,"text":"Now what we can do is: our REPL can connect to its own VM service to evaluate expressions that it reads from the terminal! That sounds crazy…","markups":[]},{"name":"6504","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*wtt2rUBIRxHnPUHv.jpg","originalWidth":552,"originalHeight":414}},{"name":"4aea","type":1,"text":"… but it works! I have written a quick spike and indeed it works. Dart supports asynchronous programming, which comes in really handy as it keeps the program from blocking itself when talking to its own VM service.","markups":[{"type":3,"start":33,"end":44,"href":"https://github.com/BlackHC/dart_repl/blob/ca3518074c94f48ce5be872b15b58556133a474c/bin/repl.dart","title":"","rel":"","anchorType":0},{"type":3,"start":80,"end":104,"href":"https://www.dartlang.org/tutorials/language/futures","title":"","rel":"","anchorType":0}]},{"name":"9cd8","type":7,"text":"Spikes are a concept from test-driven development: they are quick and dirty experiments one writes to figure out some technical questions.","markups":[]},{"name":"ad51","type":1,"text":"With the question of feasibility settled, it is easy to write a proper proof of concept. To evaluate expressions that go beyond 1 + 1, we need to support variables. Now variables cannot easily be created because a variable declaration is not an expression in Dart. In Python, you can just declare a variable on the fly by assigning to it. In Dart, we can simulate dynamic fields by overloading noSuchMethod to create elements in a dictionary on the fly. I call this class Scope and when we evaluate expressions within an instance of it, the fields can be accessed like globals.","markups":[{"type":10,"start":128,"end":133},{"type":10,"start":394,"end":406},{"type":10,"start":472,"end":477},{"type":3,"start":395,"end":406,"href":"https://www.dartlang.org/articles/language/emulating-functions#interactions-with-mirrors-and-nosuchmethod","title":"","rel":"","anchorType":0},{"type":3,"start":490,"end":529,"href":"https://www.dartdocs.org/documentation/vm_service_client/0.2.3/vm_service_client/VMInstanceRef/evaluate.html","title":"","rel":"","anchorType":0}]},{"name":"2996","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*2PUDlyPF7rchkNmA.jpg","originalWidth":460,"originalHeight":300}},{"name":"4b44","type":1,"text":"The code is actually more straight-forward:","markups":[]},{"name":"b46e","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"24c2ff5f3a35ac2aff25a18c34a6fa36"}},{"name":"4af6","type":1,"text":"With this, we can already do stuff like a = 3and b = a*3:","markups":[{"type":10,"start":40,"end":45},{"type":10,"start":49,"end":56}]},{"name":"8993","type":4,"text":"Simple expressions: DONE","markups":[],"layout":1,"metadata":{"id":"1*2tDjwpxSxslDUfiv8enwow.gif","originalWidth":866,"originalHeight":618},"href":"https://asciinema.org/a/99312"},{"name":"3d04","type":1,"text":"One limitation, we quickly run into is, that we can only access symbols that have been imported in the file that declares the Scope class. import ‘…’; cannot be evaluated using the VM service. So no dart:io if we don’t import it explicitly, and no custom libraries :(","markups":[{"type":10,"start":126,"end":131},{"type":10,"start":139,"end":150},{"type":10,"start":199,"end":206}]},{"name":"7414","type":1,"text":"Oh wait! Dart can spawn new isolates (independent workers) using a URI with Isolate.spawnUri. Users could specify additional imports on the command-line, and the REPL could generate source code to include these imports and then spawn a new isolate using the generated code that has the imports available for the user.","markups":[{"type":3,"start":76,"end":92,"href":"https://api.dartlang.org/stable/1.21.1/dart-isolate/Isolate/spawnUri.html","title":"","rel":"","anchorType":0}]},{"name":"9dd7","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*bgs2vFlKPkZsFbSO.jpg","originalWidth":570,"originalHeight":311}},{"name":"e31c","type":1,"text":"And it works \\o/","markups":[]},{"name":"844d","type":4,"text":"Custom imports: DONE","markups":[],"layout":1,"metadata":{"id":"1*eh9q0mNToXK0R_QiYdrylw.gif","originalWidth":866,"originalHeight":618},"href":"https://asciinema.org/a/99313"},{"name":"5c94","type":3,"text":"Supporting more Dart","markups":[]},{"name":"470a","type":1,"text":"Now another issue is that we only can evaluate expressions. Control statements like if/else blocks or while loops are not expressions. For statements, we could wrap them in a closure and execute the closure, which is a function call expression. Thus, if (a == 1) print('a is 1!!'); would become","markups":[{"type":10,"start":84,"end":91},{"type":10,"start":102,"end":107},{"type":10,"start":251,"end":281}]},{"name":"395b","type":8,"text":"() { if (a == 1) print('a is 1!!'); }();","markups":[]},{"name":"e0ce","type":1,"text":"We just need to figure out if the input is an expression or a statement. This is difficult because we’d have to write a Dart parser for this. But Dart is written in Dart, and the analyzer package provides a parser that can parse any Dart code for free!","markups":[{"type":10,"start":179,"end":187},{"type":3,"start":179,"end":187,"href":"https://pub.dartlang.org/packages/analyzer","title":"","rel":"","anchorType":0}]},{"name":"bdaa","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"c81085d088d4d2246a4159f5d1af133b"}},{"name":"8bcb","type":1,"text":"And thus, that is also solved.","markups":[]},{"name":"2bc2","type":4,"text":"Statements and expressions: DONE","markups":[],"layout":1,"metadata":{"id":"1*uemGA2TzYypx2RmooQfwmg.gif","originalWidth":866,"originalHeight":618},"href":"https://asciinema.org/a/99314"},{"name":"577f","type":3,"text":"More imports","markups":[]},{"name":"8ba9","type":1,"text":"The last bit that keeps us from importing just any library is that by default a new Isolate only sees the packages that are mentioned in its pubspec.yaml. We want to support importing any library though. Isolate.spawnUri has a packageConfig parameter that allows us to specify a map from package name to package path. We can just use another command-line parameter to target another package and use its package config in our Isolate. Woohoo!","markups":[{"type":10,"start":141,"end":153},{"type":10,"start":204,"end":220},{"type":10,"start":227,"end":240}]},{"name":"c464","type":1,"text":"We quickly run into the problem that our Isolate needs to access the analyzer package (and others) that might not be loaded by whatever package you want to toy around with in your REPL session. Package package_resolver to the rescue! With it, we can easily manipulate package configurations.","markups":[{"type":10,"start":69,"end":77},{"type":10,"start":202,"end":218},{"type":3,"start":202,"end":218,"href":"https://pub.dartlang.org/packages/package_resolver","title":"","rel":"","anchorType":0}]},{"name":"38a2","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"e22f734a0e7be08e8ee8eb506616ac2d"}},{"name":"1c94","type":1,"text":"With all this, we have a full workflow implemented:","markups":[]},{"name":"8bd5","type":4,"text":"Import any library from another package: DONE","markups":[],"layout":1,"metadata":{"id":"1*KKIJauKlylkVMaLvhJQq9w.gif","originalWidth":866,"originalHeight":618},"href":"https://asciinema.org/a/99316"},{"name":"a488","type":3,"text":"What’s next?","markups":[]},{"name":"fc07","type":1,"text":"This was a long post… The whole proof of concept clocks in at 451 lines of code, so almost as long as this post.","markups":[{"type":1,"start":62,"end":79}]},{"name":"ffde","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*Xn430bpRfeDmM9uF.jpg","originalWidth":625,"originalHeight":416}},{"name":"29a7","type":1,"text":"The code can be found on https://github.com/BlackHC/dart_repl. You can give it a go easily if you have Dart installed:","markups":[{"type":3,"start":25,"end":61,"href":"https://github.com/BlackHC/dart_repl/tree/master/lib","title":"","rel":"nofollow","anchorType":0}]},{"name":"88d3","type":8,"text":"pub global activate dart_repl\npub global run dart_repl","markups":[]},{"name":"c5da","type":1,"text":"I really enjoyed creating this proof of concept in my spare time. All the pieces just fell into place within a couple of hours. IDE support for Dart in Intellij is excellent, and there are a ton of documentation and articles around now. Check out Natalie Weizenbaum’s Unboxing Packages series for example: http://news.dartlang.org/2016/04/unboxing-packages-async-part-3.html et al. Low-level hacking in Dart is fun, and there are great libraries to get creative with. code_builder is looking very promising and built_collection is providing immutable collections. David Morgan has also been publishing articles on immutable collections in Dart.","markups":[{"type":10,"start":468,"end":480},{"type":10,"start":511,"end":527},{"type":3,"start":247,"end":265,"anchorType":2,"userId":"a81c627aeff9"},{"type":3,"start":306,"end":374,"href":"http://news.dartlang.org/2016/04/unboxing-packages-async-part-3.html","title":"","rel":"nofollow","anchorType":0},{"type":3,"start":468,"end":480,"href":"https://github.com/dart-lang/code_builder","title":"","rel":"","anchorType":0},{"type":3,"start":511,"end":527,"href":"https://github.com/google/built_collection.dart","title":"","rel":"","anchorType":0},{"type":3,"start":564,"end":576,"anchorType":2,"userId":"7c51fc1918ba"},{"type":3,"start":614,"end":635,"href":"https://medium.com/dartlang/darts-built-collection-for-immutable-collections-db662f705eff#.kj3ubd2xj","title":"","rel":"","anchorType":0}]},{"name":"db10","type":1,"text":"For dart_repl, it would be nice to import additional libraries at runtime without restarts. The Dart team has recently added support for hot reloading to the VM. This mainly provides a better experience in Flutter for mobile app developers. Maybe, this could be used for adhoc imports and for defining functions and classes in the REPL, too.","markups":[{"type":10,"start":4,"end":13},{"type":3,"start":206,"end":213,"href":"https://flutter.io/","title":"","rel":"","anchorType":0}]},{"name":"c79c","type":1,"text":"In general, Dart could be great for research and for researchers, and I would absolutely love to see Jupyter support for Dart. One would only have to implement its kernel interface to make such a Dart REPL compatible with it… :) That should be easy, right?","markups":[]},{"name":"550b","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*0_DI8nuDDB5VwIbc.jpg","originalWidth":400,"originalHeight":400}}],"sections":[{"name":"ef47","startIndex":0},{"name":"c183","startIndex":5}]},"postDisplay":{"coverless":true},"metaDescription":"Python’s interactive mode is great. Dart does not have an interactive mode at the moment, but it is really good for prototyping ideas quickly. So let’s see if we can hack something together!"},"virtuals":{"statusForCollection":"APPROVED","allowNotes":true,"previewImage":{"imageId":"0*lOBcrb2bYgKV6VYT.png","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"wordCount":1245,"imageCount":11,"readingTime":5.99811320754717,"subtitle":"Hacking with Dart","userPostRelation":{"userId":"8b6a7f6f197d","postId":"f327e3769b6f","readAt":0,"readLaterAddedAt":0,"votedAt":0,"collaboratorAddedAt":0,"notesAddedAt":0,"subscribedAt":0,"lastReadSectionName":"","lastReadVersionId":"","lastReadAt":0,"lastReadParagraphName":"","lastReadPercentage":0,"viewedAt":0,"presentedCountInResponseManagement":0,"clapCount":0,"seriesUpdateNotifsOptedInAt":0,"queuedAt":0,"seriesFirstViewedAt":0,"presentedCountInStream":3,"seriesLastViewedAt":0,"audioProgressSec":0},"publishedInCount":1,"usersBySocialRecommends":[],"noIndex":false,"recommends":75,"isBookmarked":false,"tags":[{"slug":"programming","name":"Programming","postCount":400575,"metadata":{"postCount":400575,"coverImage":{"id":"0*7x-LQAg1xBmi-L1p","originalWidth":1800,"originalHeight":1169,"alt":"Screenshot of a desktop with the Cursor application open"}},"type":"Tag"},{"slug":"javascript","name":"JavaScript","postCount":252158,"metadata":{"postCount":252158,"coverImage":{"id":"1*xqni95gWZ1hGKjt28SbpKA.png","originalWidth":1536,"originalHeight":1024}},"type":"Tag"},{"slug":"python","name":"Python","postCount":236419,"metadata":{"postCount":236419,"coverImage":{"id":"0*my40IgRfG5MwXH9Z","originalWidth":5616,"originalHeight":3744,"isFeatured":true,"unsplashPhotoId":"Hcfwew744z4"}},"type":"Tag"},{"slug":"google","name":"Google","postCount":64822,"metadata":{"postCount":64822,"coverImage":{"id":"1*XecumDv5a3um7nPZZzHs0w.jpeg","originalWidth":5668,"originalHeight":3840,"isFeatured":true,"alt":"painting with 4 bears"}},"type":"Tag"},{"slug":"software-development","name":"Software Development","postCount":285621,"metadata":{"postCount":285621,"coverImage":{"id":"0*7x-LQAg1xBmi-L1p","originalWidth":1800,"originalHeight":1169,"alt":"Screenshot of a desktop with the Cursor application open"}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":6,"links":{"entries":[{"url":"https://medium.com/dartlang/darts-built-collection-for-immutable-collections-db662f705eff#.kj3ubd2xj","alts":[{"type":2,"url":"medium://p/db662f705eff"},{"type":3,"url":"medium://p/db662f705eff"}]}],"version":"0.3","generatedAt":1484737993154},"isLockedPreviewOnly":false,"metaDescription":"Python’s interactive mode is great. Dart does not have an interactive mode at the moment, but it is really good for prototyping ideas quickly. So let’s see if we can hack something together!","totalClapCount":325,"sectionCount":2,"readingList":0,"topics":[{"topicId":"decb52b64abf","slug":"programming","createdAt":1493934116328,"deletedAt":0,"image":{"id":"1*iPa136b1cGEO7lvoXg6uHQ@2x.jpeg","originalWidth":6016,"originalHeight":4016},"name":"Programming","description":"The good, the bad, the buggy.","relatedTopics":[],"visibility":1,"relatedTags":[],"relatedTopicIds":[],"seoTitle":"Programming News and Articles — Medium","type":"Topic"}]},"coverless":true,"slug":"a-dart-repl-poc","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":false,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"dart-repl-poc-f327e3769b6f","previewContent":{"bodyModel":{"paragraphs":[{"name":"b935","type":3,"text":"A Dart REPL PoC","markups":[],"alignment":1},{"name":"d4ce","type":13,"text":"Hacking with Dart","markups":[],"alignment":1},{"name":"4954","type":4,"text":"","markups":[],"layout":9,"metadata":{"id":"0*lOBcrb2bYgKV6VYT.png"}}],"sections":[{"startIndex":0}]},"isFullContent":false,"subtitle":"Hacking with Dart"},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://blog.dart.dev/dart-repl-poc-f327e3769b6f","approvedHomeCollectionId":"23738d481ce8","isNewsletter":false,"newsletterId":"","webCanonicalUrl":"https://blog.dart.dev/dart-repl-poc-f327e3769b6f","mediumUrl":"https://blog.dart.dev/dart-repl-poc-f327e3769b6f","migrationId":"","notifyFollowers":true,"notifyTwitter":true,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"audioVersionDurationSec":0,"sequenceId":"","isEligibleForRevenue":false,"isBlockedFromHightower":false,"deletedAt":0,"lockedPostSource":0,"hightowerMinimumGuaranteeStartsAt":0,"hightowerMinimumGuaranteeEndsAt":0,"featureLockRequestAcceptedAt":0,"mongerRequestType":1,"layerCake":0,"socialTitle":"","socialDek":"","editorialPreviewTitle":"","editorialPreviewDek":"","curationEligibleAt":0,"isProxyPost":false,"proxyPostFaviconUrl":"","proxyPostProviderName":"","proxyPostType":0,"isSuspended":false,"isLimitedState":false,"seoTitle":"","previewContent2":{"bodyModel":{"paragraphs":[{"name":"b935","type":3,"text":"A Dart REPL PoC","markups":[]},{"name":"d4ce","type":13,"text":"Hacking with Dart","markups":[]},{"name":"4954","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*lOBcrb2bYgKV6VYT.png"}},{"name":"656a","type":1,"text":"Python’s interactive mode is great. Dart does not have an interactive mode at the moment, but it is really good for prototyping ideas quickly, so let’s see if we can hack something together!","markups":[{"type":3,"start":0,"end":6,"href":"https://www.python.org/","title":"","rel":"","anchorType":0},{"type":3,"start":36,"end":40,"href":"http://dartlang.org/","title":"","rel":"","anchorType":0}]},{"name":"740e","type":1,"text":"Disclaimer: I do work for Google, but this post is about a personal project. I’m not on…","markups":[{"type":2,"start":0,"end":170}]}],"sections":[{"name":"ef47","startIndex":0}]},"isFullContent":false,"subtitle":"Hacking with Dart"},"cardType":0,"isDistributionAlertDismissed":false,"isShortform":false,"shortformType":0,"responsesLocked":false,"isLockedResponse":false,"isPublishToEmail":false,"responseDistribution":0,"isMarkedPaywallOnly":false,"type":"Post"},"mentionedUsers":[{"userId":"a81c627aeff9","name":"Natalie Weizenbaum","username":"nex3","createdAt":1442478598008,"imageId":"1*MemWrDzmLrtNUQpIIAl-nA.png","backgroundImageId":"","bio":"Code gardener. Lead designer/developer of @SassCSS, working for @google on @dart_lang. Occasionally likes media.","twitterScreenName":"nex3","allowNotes":1,"mediumMemberAt":0,"isWriterProgramEnrolled":true,"isSuspended":false,"isMembershipTrialEligible":true,"facebookDisplayName":"","optInToIceland":true,"subdomainCreatedAt":1624658330847,"hasCompletedProfile":false,"userDismissableFlags":[1,8,12,32],"hasSeenIcelandOnboarding":false,"postSubscribeMembershipUpsellShownAt":0,"languageCode":"en-us","type":"User"},{"userId":"7c51fc1918ba","name":"David Morgan","username":"davidmorgan_14314","createdAt":1479905471772,"imageId":"0*CyTzB0Ea4W-QND7p.","backgroundImageId":"","bio":"Software Engineer at Google; works on Dart.","twitterScreenName":"__davidmorgan__","allowNotes":1,"mediumMemberAt":0,"isWriterProgramEnrolled":true,"isSuspended":false,"isMembershipTrialEligible":true,"facebookDisplayName":"","optInToIceland":true,"hasCompletedProfile":false,"userDismissableFlags":[1],"hasSeenIcelandOnboarding":false,"postSubscribeMembershipUpsellShownAt":0,"languageCode":"en-us","type":"User"}],"collaborators":[],"hideMeter":false,"shareKey":"58d8c9cc0cf194895bde6e98af04e968","collectionUserRelations":[{"collectionId":"23738d481ce8","userId":"8b6a7f6f197d","role":"ADMIN"},{"collectionId":"4da7dfd21a33","userId":"8b6a7f6f197d","role":"WRITER"},{"collectionId":"24d8f4fa8912","userId":"8b6a7f6f197d","role":"WRITER"}],"mode":"canEdit","references":{"User":{"d0d2b2ab0896":{"userId":"d0d2b2ab0896","name":"Andreas Kirsch","username":"BlackHC","createdAt":1398373301017,"imageId":"1*mmND4OQvbUKv3OavQtrkOQ.jpeg","backgroundImageId":"","bio":"DPhil student at AIMS in Oxford; former RE at DeepMind, former SWE at Google; fellow at Newspeak House.","twitterScreenName":"BlackHC","socialStats":{"userId":"d0d2b2ab0896","usersFollowedCount":44,"usersFollowedByCount":140,"type":"SocialStats"},"social":{"userId":"8b6a7f6f197d","targetUserId":"d0d2b2ab0896","type":"Social"},"allowNotes":1,"mediumMemberAt":0,"isWriterProgramEnrolled":true,"isSuspended":false,"isMembershipTrialEligible":true,"facebookDisplayName":"Andreas Kirsch","optInToIceland":true,"hasCompletedProfile":false,"isCreatorPartnerProgramEnrolled":true,"userDismissableFlags":[1,2,8,9,12,33,58],"hasSeenIcelandOnboarding":false,"postSubscribeMembershipUpsellShownAt":0,"languageCode":"en-us","type":"User"}},"Collection":{"23738d481ce8":{"id":"23738d481ce8","name":"Dart","slug":"dartlang","tags":["MOBILE APP DEVELOPMENT","WEB DEVELOPMENT","DART","PROGRAMMING LANGUAGES","SOFTWARE DEVELOPMENT"],"creatorId":"a6d788faa5e5","description":"Dart is an approachable, portable, and productive language for high-quality apps on any platform. Learn more at https://dart.dev.","shortDescription":"Dart is an approachable, portable, and productive language…","image":{"imageId":"1*uWy1Ajpd0oTUQBO9WBHoQg@2x.png","filter":"","backgroundSize":"","originalWidth":1001,"originalHeight":1001,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":14031,"activeAt":1762974121956},"virtuals":{"permissions":{"canPublish":true,"canPublishAll":true,"canRepublish":true,"canRemove":true,"canManageAll":true,"canSubmit":true,"canEditPosts":true,"canAddWriters":true,"canViewStats":true,"canSendNewsletter":true,"canViewLockedPosts":true,"canViewCloaked":true,"canEditOwnPosts":true,"canBeAssignedAuthor":true,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false,"canLockOwnPostsForMediumMembers":false,"canViewNewsletterV2Stats":true,"canCreateNewsletterV3":true},"isSubscribed":true,"isEnrolledInHightower":false,"isEligibleForHightower":false,"isSubscribedToCollectionEmails":false,"isMuted":false,"canToggleEmail":false,"isWriter":false},"logo":{"imageId":"1*NRb7RFVWJQFzY47j3v4U7Q.png","filter":"","backgroundSize":"","originalWidth":400,"originalHeight":154,"strategy":"resample","height":0,"width":0},"twitterUsername":"dart_lang","publicEmail":"medium@dartlang.org","domain":"blog.dart.dev","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Dart","description":"An approachable, portable, and productive language for high-quality apps on any platform","backgroundImage":{},"logoImage":{"id":"1*knHF_qpxdtS8h0Z8EeqowA@2x.png","originalWidth":1080,"originalHeight":1080,"alt":"Dart"},"alignment":2,"layout":5}},{"type":1,"postListMetadata":{"source":1,"layout":4,"number":7,"postIds":[]}},{"type":1,"postListMetadata":{"source":1,"layout":5,"number":15,"postIds":[]}}],"tintColor":"#FF042B59","lightText":true,"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF6588BA","point":0},{"color":"#FF607EAB","point":0.1},{"color":"#FF59759C","point":0.2},{"color":"#FF536B8E","point":0.3},{"color":"#FF4C617F","point":0.4},{"color":"#FF445670","point":0.5},{"color":"#FF3D4B61","point":0.6},{"color":"#FF344052","point":0.7},{"color":"#FF2B3442","point":0.8},{"color":"#FF212832","point":0.9},{"color":"#FF161A22","point":1}],"backgroundColor":"#FFFFFFFF"},"tintBackgroundSpectrum":{"colorPoints":[{"color":"#FF042B59","point":0},{"color":"#FF294871","point":0.1},{"color":"#FF456087","point":0.2},{"color":"#FF5F779B","point":0.3},{"color":"#FF788DAD","point":0.4},{"color":"#FF8FA2BF","point":0.5},{"color":"#FFA5B6CF","point":0.6},{"color":"#FFBBC9DF","point":0.7},{"color":"#FFD1DCEE","point":0.8},{"color":"#FFE6EEFC","point":0.9},{"color":"#FFFBFFFF","point":1}],"backgroundColor":"#FF042B59"},"highlightSpectrum":{"colorPoints":[{"color":"#FFECF3FF","point":0},{"color":"#FFE9F2FF","point":0.1},{"color":"#FFE5F0FF","point":0.2},{"color":"#FFE2EFFF","point":0.3},{"color":"#FFDEEDFF","point":0.4},{"color":"#FFDBEBFF","point":0.5},{"color":"#FFD7EAFF","point":0.6},{"color":"#FFD3E8FF","point":0.7},{"color":"#FFCFE6FF","point":0.8},{"color":"#FFCBE5FF","point":0.9},{"color":"#FFC8E3FF","point":1}],"backgroundColor":"#FFFFFFFF"},"darkBackgroundSpectrum":{"colorPoints":[{"color":"#FF7DA0D3","point":0},{"color":"#FF89A9D8","point":0.1},{"color":"#FF94B1DC","point":0.2},{"color":"#FFA0B9E0","point":0.3},{"color":"#FFABC1E3","point":0.4},{"color":"#FFB6C9E7","point":0.5},{"color":"#FFC0D1EB","point":0.6},{"color":"#FFCBD8EF","point":0.7},{"color":"#FFD5E0F2","point":0.8},{"color":"#FFE0E7F6","point":0.9},{"color":"#FFEAEFFA","point":1}],"backgroundColor":"#FF000000"}},"navItems":[{"type":1,"title":"Announcements","tagSlug":"announcements","url":"https://blog.dart.dev/tagged/announcements","source":"tagSlug"},{"type":5,"title":"Archive","url":"https://blog.dart.dev/archive"},{"type":3,"title":"dart.dev","url":"https://dart.dev"}],"colorBehavior":2,"collectionFeatures":[25],"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Dart","description":"An approachable, portable, and productive language for high-quality apps on any platform","backgroundImage":{},"logoImage":{"id":"1*knHF_qpxdtS8h0Z8EeqowA@2x.png","originalWidth":1080,"originalHeight":1080,"alt":"Dart"},"alignment":2,"layout":5},"subscriberCount":14031,"tagline":"Dart is a client-optimized language for fast apps on any platform.","isOptedIntoAurora":false,"isCurationAllowedByDefault":false,"polarisCoverImage":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"ptsQualifiedAt":1616092887098,"type":"Collection"}},"Social":{"d0d2b2ab0896":{"userId":"8b6a7f6f197d","targetUserId":"d0d2b2ab0896","type":"Social"}},"SocialStats":{"d0d2b2ab0896":{"userId":"d0d2b2ab0896","usersFollowedCount":44,"usersFollowedByCount":140,"type":"SocialStats"}}}},"v":3,"b":"20260130-1012-root"}