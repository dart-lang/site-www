{"success":true,"payload":{"value":{"id":"118464d7f59d","versionId":"c68011ce87d4","creatorId":"a6d788faa5e5","homeCollectionId":"23738d481ce8","title":"Getting ready for Dart 2, and making your packages look great on the Pub site!","detectedLanguage":"en","latestVersion":"c68011ce87d4","latestPublishedVersion":"c68011ce87d4","hasUnpublishedEdits":false,"latestRev":202,"createdAt":1531829333623,"updatedAt":1532118780811,"acceptedAt":0,"firstPublishedAt":1532118780310,"latestPublishedAt":1532118780310,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"We have a new release of Pub, the package repository for Dart! This time around we focused on preparing for the Dart 2 stable release.","bodyModel":{"paragraphs":[{"name":"f169","type":3,"text":"Getting ready for Dart 2, and making your packages look great on the Pub site!","markups":[]},{"name":"1235","type":1,"text":"We have a new release of Pub, the package repository for Dart! This time around we focused on preparing for the Dart 2 stable release.","markups":[{"type":3,"start":25,"end":28,"href":"https://pub.dartlang.org","title":"","rel":"","anchorType":0}]},{"name":"8e58","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*zpVgP0W04QFmqqaJO9fzhg.png","originalWidth":1040,"originalHeight":144}},{"name":"8980","type":3,"text":"Migrating your packages to Dart 2","markups":[]},{"name":"9a9a","type":1,"text":"We expect the Dart 2 release to graduate to stable in the immediate future! Thus, it’s critical that you migrate your code — especially any packages you have published — to be Dart 2 compatible. There are three main aspects to this:","markups":[{"type":3,"start":105,"end":122,"href":"https://www.dartlang.org/dart-2#migration","title":"","rel":"","anchorType":0}]},{"name":"4162","type":9,"text":"Make sure your code passes Dart 2 analysis (details). We recommend you also pay attention to hints — for example, to prepare for deprecations.","markups":[{"type":3,"start":44,"end":51,"href":"https://www.dartlang.org/dart-2#general-process","title":"","rel":"","anchorType":0}]},{"name":"ead7","type":9,"text":"Run tests to make sure your code passes Dart 2 runtime checks (details).","markups":[{"type":3,"start":63,"end":70,"href":"https://www.dartlang.org/guides/language/sound-problems#runtime-errors","title":"","rel":"","anchorType":0}]},{"name":"f9b9","type":9,"text":"Update the upper bound of the SDK constraint of your packages to <3.0.0 (details).","markups":[{"type":10,"start":65,"end":71},{"type":3,"start":73,"end":80,"href":"https://www.dartlang.org/dart-2#upper-constraints-on-the-sdk-version","title":"","rel":"","anchorType":0}]},{"name":"471b","type":1,"text":"We strongly encourage all package authors to do this work, and we will be pushing hard ourselves on the packages we own over the next few days.","markups":[]},{"name":"0320","type":3,"text":"Improved analysis UI on the Pub site","markups":[]},{"name":"9011","type":1,"text":"To help with this migration we have updated the analysis tab of the Pub site to make the results of code analysis easier to read. First, at the top of the analysis page we added progress bars allowing you to quickly see the status of the package:","markups":[]},{"name":"c3f5","type":4,"text":"Package scores shown on the Pub site","markups":[],"layout":1,"metadata":{"id":"0*LatYAFujtrM2yebc","originalWidth":1356,"originalHeight":584}},{"name":"d5bf","type":1,"text":"Below the progress bars are detailed analysis results, grouped by severity: errors (red icon), warnings (yellow icon), and suggested issues (blue icon), as shown in the following screenshot:","markups":[]},{"name":"1173","type":4,"text":"Analysis issues shown on the Pub site","markups":[],"layout":1,"metadata":{"id":"0*Fq4FHYc9N5aHmYBK","originalWidth":1367,"originalHeight":1063,"isFeatured":true}},{"name":"a285","type":3,"text":"Updated analysis scores","markups":[]},{"name":"df9c","type":1,"text":"We also made some tweaks to the analysis score. We now lower the score of a package if any of the following are true:","markups":[]},{"name":"094d","type":9,"text":"The package doesn’t pass Dart 2 analysis.","markups":[]},{"name":"998a","type":9,"text":"The upper SDK constraint isn’t at least <3.0.0.","markups":[{"type":10,"start":40,"end":46}]},{"name":"391e","type":9,"text":"API reference generation (dartdoc) fails.","markups":[{"type":3,"start":26,"end":33,"href":"https://www.dartlang.org/guides/language/effective-dart/documentation","title":"","rel":"","anchorType":0}]},{"name":"0424","type":1,"text":"For our next Pub site release we expect to work on some further refinement of the scores, and to add some documentation for how the scores are calculated.","markups":[]},{"name":"83d7","type":3,"text":"Searching the API surface of a package","markups":[]},{"name":"c0c4","type":1,"text":"Searching is — not too surprisingly — the most popular feature of the Pub site. We have made a number of improvements in this area over the past few quarters, focused on adding platform filters and better ranking. The new release extends search with support for searching the API surface of a package. In addition to the current search indexing of the package’s description and README.md content, search now covers all the public API members of the package, plus the API documentation for those members! This is great when you want to locate something that isn’t mentioned in the descriptions and README.md files.","markups":[{"type":10,"start":378,"end":387},{"type":10,"start":597,"end":606}]},{"name":"583c","type":1,"text":"For example, let’s say you’re looking for a package that can format strings using the ISO 4217 currency format. A search in description and README.md files gives you a single result, but a search that includes API documentation gives you several results:","markups":[{"type":3,"start":86,"end":94,"href":"https://en.wikipedia.org/wiki/ISO_4217","title":"","rel":"","anchorType":0},{"type":3,"start":166,"end":181,"href":"https://pub.dartlang.org/packages?q=4217&api=0","title":"","rel":"","anchorType":0},{"type":3,"start":238,"end":253,"href":"https://pub.dartlang.org/packages?q=4217","title":"","rel":"","anchorType":0}]},{"name":"2211","type":8,"text":"10 results for 4217","markups":[]},{"name":"6424","type":8,"text":"intl","markups":[{"type":1,"start":0,"end":4}]},{"name":"55fc","type":8,"text":"Contains code to deal with internationalized/localized messages, date and number formatting and parsing, bi-directional text, and other internationalization issues.","markups":[]},{"name":"6ad3","type":8,"text":"v 0.15.2 • Updated: Oct 19, 2017 FLUTTER WEB OTHER","markups":[]},{"name":"068d","type":8,"text":"API results:","markups":[]},{"name":"69ec","type":8,"text":"intl/NumberFormat-class.html","markups":[]},{"name":"1330","type":8,"text":"flutter_billing","markups":[{"type":1,"start":0,"end":15}]},{"name":"2884","type":8,"text":"A flutter plugin to communicate with billing on iOS and Android.","markups":[]},{"name":"b227","type":8,"text":"v 0.1.2 • Updated: Feb 10, 2018 FLUTTER","markups":[]},{"name":"5f88","type":8,"text":"API results:","markups":[]},{"name":"7058","type":8,"text":"flutter_billing/BillingProduct-class.html","markups":[]},{"name":"a37b","type":3,"text":"In summary…","markups":[]},{"name":"607a","type":1,"text":"The Dart 2 stable channel release is happening very soon, and we’ve made a bunch of Pub site improvements related to Dart 2, ranking, and searching.","markups":[]},{"name":"c7b9","type":1,"text":"If you’ve published packages, now is the time to update them for Dart 2:","markups":[{"type":2,"start":30,"end":33}]},{"name":"cb52","type":10,"text":"Make sure your packages pass Dart 2 analysis.","markups":[]},{"name":"3c25","type":10,"text":"Update the upper bound of the SDK constraint to <3.0.0 in your pubspec.yaml.","markups":[{"type":10,"start":48,"end":54},{"type":10,"start":63,"end":75}]},{"name":"abd0","type":10,"text":"Republish your updated packages.","markups":[]},{"name":"a1c5","type":1,"text":"Then go to your package’s analysis page on pub.dartlang.org, and see what else you can do to improve your ranking!","markups":[{"type":3,"start":43,"end":59,"href":"https://pub.dartlang.org/","title":"","rel":"","anchorType":0}]}],"sections":[{"name":"fb30","startIndex":0,"textLayout":1,"imageLayout":1,"backgroundColor":1,"type":0,"videoLayout":1}]},"postDisplay":{"coverless":true}},"virtuals":{"statusForCollection":"APPROVED","allowNotes":true,"previewImage":{"imageId":"0*Fq4FHYc9N5aHmYBK","filter":"","backgroundSize":"","originalWidth":1367,"originalHeight":1063,"strategy":"resample","height":0,"width":0},"wordCount":625,"imageCount":3,"readingTime":2.9084905660377363,"subtitle":"We have a new release of Pub, the package repository for Dart! This time around we focused on preparing for the Dart 2 stable release.","userPostRelation":{"userId":"8b6a7f6f197d","postId":"118464d7f59d","readAt":0,"readLaterAddedAt":0,"votedAt":0,"collaboratorAddedAt":0,"notesAddedAt":0,"subscribedAt":0,"lastReadSectionName":"","lastReadVersionId":"","lastReadAt":0,"lastReadParagraphName":"","lastReadPercentage":0,"viewedAt":0,"presentedCountInResponseManagement":0,"clapCount":0,"seriesUpdateNotifsOptedInAt":0,"queuedAt":0,"seriesFirstViewedAt":0,"presentedCountInStream":2,"seriesLastViewedAt":0,"audioProgressSec":0},"publishedInCount":1,"usersBySocialRecommends":[],"noIndex":false,"recommends":44,"isBookmarked":false,"tags":[{"slug":"github","name":"Github","postCount":33933,"metadata":{"postCount":33933,"coverImage":{"id":"0*DeXcHLhrGqAMtAQI","originalWidth":1536,"originalHeight":1024,"isFeatured":true}},"type":"Tag"},{"slug":"dartlang","name":"Dartlang","postCount":921,"metadata":{"postCount":921,"coverImage":{"id":"1*HNqQFQ2hdhAgjew1pIMqXA.png","originalWidth":2752,"originalHeight":1536,"isFeatured":true}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":1,"links":{"entries":[{"url":"https://www.dartlang.org/dart-2#upper-constraints-on-the-sdk-version","alts":[],"httpStatus":200},{"url":"https://www.dartlang.org/dart-2#migration","alts":[],"httpStatus":200},{"url":"https://www.dartlang.org/dart-2#general-process","alts":[],"httpStatus":200},{"url":"https://www.dartlang.org/guides/language/effective-dart/documentation","alts":[],"httpStatus":200},{"url":"https://www.dartlang.org/guides/language/sound-problems#runtime-errors","alts":[],"httpStatus":200},{"url":"https://en.wikipedia.org/wiki/ISO_4217","alts":[],"httpStatus":200},{"url":"https://pub.dartlang.org/","alts":[],"httpStatus":200},{"url":"https://pub.dartlang.org","alts":[],"httpStatus":200},{"url":"https://pub.dartlang.org/packages?q=4217&api=0","alts":[],"httpStatus":200},{"url":"https://pub.dartlang.org/packages?q=4217","alts":[],"httpStatus":200}],"version":"0.3","generatedAt":1532118784174},"isLockedPreviewOnly":false,"metaDescription":"","totalClapCount":259,"sectionCount":1,"readingList":0,"topics":[]},"coverless":true,"slug":"getting-ready-for-dart-2-and-making-your-packages-look-great-on-the-pub-site","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"getting-ready-for-dart-2-and-making-your-packages-look-great-on-the-pub-site-118464d7f59d","previewContent":{"bodyModel":{"paragraphs":[{"name":"previewImage","type":4,"text":"","layout":10,"metadata":{"id":"0*Fq4FHYc9N5aHmYBK","originalWidth":1367,"originalHeight":1063,"isFeatured":true}},{"name":"f169","type":3,"text":"Getting ready for Dart 2, and making your packages look great on the Pub site!","markups":[],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false,"subtitle":"We have a new release of Pub, the package repository for Dart! This time around we focused on preparing for the Dart 2 stable release."},"license":1,"inResponseToMediaResourceId":"","canonicalUrl":"https://blog.dart.dev/getting-ready-for-dart-2-and-making-your-packages-look-great-on-the-pub-site-118464d7f59d","approvedHomeCollectionId":"23738d481ce8","isNewsletter":false,"newsletterId":"","webCanonicalUrl":"https://blog.dart.dev/getting-ready-for-dart-2-and-making-your-packages-look-great-on-the-pub-site-118464d7f59d","mediumUrl":"https://blog.dart.dev/getting-ready-for-dart-2-and-making-your-packages-look-great-on-the-pub-site-118464d7f59d","migrationId":"","notifyFollowers":true,"notifyTwitter":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"audioVersionDurationSec":0,"sequenceId":"","isEligibleForRevenue":false,"isBlockedFromHightower":false,"deletedAt":0,"lockedPostSource":0,"hightowerMinimumGuaranteeStartsAt":0,"hightowerMinimumGuaranteeEndsAt":0,"featureLockRequestAcceptedAt":0,"mongerRequestType":1,"layerCake":0,"socialTitle":"","socialDek":"","editorialPreviewTitle":"","editorialPreviewDek":"","curationEligibleAt":0,"isProxyPost":false,"proxyPostFaviconUrl":"","proxyPostProviderName":"","proxyPostType":0,"isSuspended":false,"isLimitedState":false,"seoTitle":"","previewContent2":{"bodyModel":{"paragraphs":[{"name":"f169","type":3,"text":"Getting ready for Dart 2, and making your packages look great on the Pub site!","markups":[]},{"name":"1235","type":1,"text":"We have a new release of Pub, the package repository for Dart! This time around we focused on preparing for the Dart 2 stable release.","markups":[{"type":3,"start":25,"end":28,"href":"https://pub.dartlang.org","title":"","rel":"","anchorType":0}]},{"name":"8e58","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*zpVgP0W04QFmqqaJO9fzhg.png","originalWidth":1040,"originalHeight":144}},{"name":"8980","type":3,"text":"Migrating your packages to Dart 2","markups":[]},{"name":"9a9a","type":1,"text":"We expect the Dart 2 release to graduate to stable in the immediate future! Thus, it’s critical that you migrate your code — especially…","markups":[{"type":3,"start":105,"end":122,"href":"https://www.dartlang.org/dart-2#migration","title":"","rel":"","anchorType":0}]}],"sections":[{"name":"fb30","startIndex":0,"textLayout":1,"imageLayout":1,"backgroundColor":1,"type":0,"videoLayout":1}]},"isFullContent":false,"subtitle":"We have a new release of Pub, the package repository for Dart! This time around we focused on preparing for the Dart 2 stable release."},"cardType":0,"isDistributionAlertDismissed":false,"isShortform":false,"shortformType":0,"responsesLocked":false,"isLockedResponse":false,"isPublishToEmail":false,"responseDistribution":0,"isMarkedPaywallOnly":false,"type":"Post"},"mentionedUsers":[],"collaborators":[],"hideMeter":false,"shareKey":"f536963ef5a98ac86b3570110eee5bad","collectionUserRelations":[{"collectionId":"23738d481ce8","userId":"8b6a7f6f197d","role":"ADMIN"},{"collectionId":"4da7dfd21a33","userId":"8b6a7f6f197d","role":"WRITER"},{"collectionId":"24d8f4fa8912","userId":"8b6a7f6f197d","role":"WRITER"}],"mode":"canEdit","references":{"User":{"a6d788faa5e5":{"userId":"a6d788faa5e5","name":"Michael Thomsen","username":"mit.mit","createdAt":1481367237471,"imageId":"0*Y_CFLc1qadgr3tPK.","backgroundImageId":"","bio":"Product Manager working on Dart and Flutter. Helping developers is my passion!","twitterScreenName":"","socialStats":{"userId":"a6d788faa5e5","usersFollowedCount":1,"usersFollowedByCount":9653,"type":"SocialStats"},"social":{"userId":"8b6a7f6f197d","targetUserId":"a6d788faa5e5","isFollowing":true,"isTwitterFollowing":false,"isFacebookFollowing":false,"isMediumFollowing":true,"type":"Social"},"allowNotes":1,"mediumMemberAt":1752847030513,"isWriterProgramEnrolled":true,"isSuspended":false,"isMembershipTrialEligible":true,"facebookDisplayName":"","optInToIceland":true,"hasCompletedProfile":false,"userDismissableFlags":[1,2,5,8,12,17,18,21,30,32,33,53,58,59,61],"hasSeenIcelandOnboarding":true,"postSubscribeMembershipUpsellShownAt":0,"languageCode":"da","type":"User"}},"Collection":{"23738d481ce8":{"id":"23738d481ce8","name":"Dart","slug":"dartlang","tags":["MOBILE APP DEVELOPMENT","WEB DEVELOPMENT","DART","PROGRAMMING LANGUAGES","SOFTWARE DEVELOPMENT"],"creatorId":"a6d788faa5e5","description":"Dart is an approachable, portable, and productive language for high-quality apps on any platform. Learn more at https://dart.dev.","shortDescription":"Dart is an approachable, portable, and productive language…","image":{"imageId":"1*uWy1Ajpd0oTUQBO9WBHoQg@2x.png","filter":"","backgroundSize":"","originalWidth":1001,"originalHeight":1001,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":14031,"activeAt":1762974121956},"virtuals":{"permissions":{"canPublish":true,"canPublishAll":true,"canRepublish":true,"canRemove":true,"canManageAll":true,"canSubmit":true,"canEditPosts":true,"canAddWriters":true,"canViewStats":true,"canSendNewsletter":true,"canViewLockedPosts":true,"canViewCloaked":true,"canEditOwnPosts":true,"canBeAssignedAuthor":true,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false,"canLockOwnPostsForMediumMembers":false,"canViewNewsletterV2Stats":true,"canCreateNewsletterV3":true},"isSubscribed":true,"isEnrolledInHightower":false,"isEligibleForHightower":false,"isSubscribedToCollectionEmails":false,"isMuted":false,"canToggleEmail":false,"isWriter":false},"logo":{"imageId":"1*NRb7RFVWJQFzY47j3v4U7Q.png","filter":"","backgroundSize":"","originalWidth":400,"originalHeight":154,"strategy":"resample","height":0,"width":0},"twitterUsername":"dart_lang","publicEmail":"medium@dartlang.org","domain":"blog.dart.dev","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Dart","description":"An approachable, portable, and productive language for high-quality apps on any platform","backgroundImage":{},"logoImage":{"id":"1*knHF_qpxdtS8h0Z8EeqowA@2x.png","originalWidth":1080,"originalHeight":1080,"alt":"Dart"},"alignment":2,"layout":5}},{"type":1,"postListMetadata":{"source":1,"layout":4,"number":7,"postIds":[]}},{"type":1,"postListMetadata":{"source":1,"layout":5,"number":15,"postIds":[]}}],"tintColor":"#FF042B59","lightText":true,"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF6588BA","point":0},{"color":"#FF607EAB","point":0.1},{"color":"#FF59759C","point":0.2},{"color":"#FF536B8E","point":0.3},{"color":"#FF4C617F","point":0.4},{"color":"#FF445670","point":0.5},{"color":"#FF3D4B61","point":0.6},{"color":"#FF344052","point":0.7},{"color":"#FF2B3442","point":0.8},{"color":"#FF212832","point":0.9},{"color":"#FF161A22","point":1}],"backgroundColor":"#FFFFFFFF"},"tintBackgroundSpectrum":{"colorPoints":[{"color":"#FF042B59","point":0},{"color":"#FF294871","point":0.1},{"color":"#FF456087","point":0.2},{"color":"#FF5F779B","point":0.3},{"color":"#FF788DAD","point":0.4},{"color":"#FF8FA2BF","point":0.5},{"color":"#FFA5B6CF","point":0.6},{"color":"#FFBBC9DF","point":0.7},{"color":"#FFD1DCEE","point":0.8},{"color":"#FFE6EEFC","point":0.9},{"color":"#FFFBFFFF","point":1}],"backgroundColor":"#FF042B59"},"highlightSpectrum":{"colorPoints":[{"color":"#FFECF3FF","point":0},{"color":"#FFE9F2FF","point":0.1},{"color":"#FFE5F0FF","point":0.2},{"color":"#FFE2EFFF","point":0.3},{"color":"#FFDEEDFF","point":0.4},{"color":"#FFDBEBFF","point":0.5},{"color":"#FFD7EAFF","point":0.6},{"color":"#FFD3E8FF","point":0.7},{"color":"#FFCFE6FF","point":0.8},{"color":"#FFCBE5FF","point":0.9},{"color":"#FFC8E3FF","point":1}],"backgroundColor":"#FFFFFFFF"},"darkBackgroundSpectrum":{"colorPoints":[{"color":"#FF7DA0D3","point":0},{"color":"#FF89A9D8","point":0.1},{"color":"#FF94B1DC","point":0.2},{"color":"#FFA0B9E0","point":0.3},{"color":"#FFABC1E3","point":0.4},{"color":"#FFB6C9E7","point":0.5},{"color":"#FFC0D1EB","point":0.6},{"color":"#FFCBD8EF","point":0.7},{"color":"#FFD5E0F2","point":0.8},{"color":"#FFE0E7F6","point":0.9},{"color":"#FFEAEFFA","point":1}],"backgroundColor":"#FF000000"}},"navItems":[{"type":1,"title":"Announcements","tagSlug":"announcements","url":"https://blog.dart.dev/tagged/announcements","source":"tagSlug"},{"type":5,"title":"Archive","url":"https://blog.dart.dev/archive"},{"type":3,"title":"dart.dev","url":"https://dart.dev"}],"colorBehavior":2,"collectionFeatures":[25],"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Dart","description":"An approachable, portable, and productive language for high-quality apps on any platform","backgroundImage":{},"logoImage":{"id":"1*knHF_qpxdtS8h0Z8EeqowA@2x.png","originalWidth":1080,"originalHeight":1080,"alt":"Dart"},"alignment":2,"layout":5},"subscriberCount":14031,"tagline":"Dart is a client-optimized language for fast apps on any platform.","isOptedIntoAurora":false,"isCurationAllowedByDefault":false,"polarisCoverImage":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"ptsQualifiedAt":1616092887098,"type":"Collection"}},"Social":{"a6d788faa5e5":{"userId":"8b6a7f6f197d","targetUserId":"a6d788faa5e5","isFollowing":true,"isTwitterFollowing":false,"isFacebookFollowing":false,"isMediumFollowing":true,"type":"Social"}},"SocialStats":{"a6d788faa5e5":{"userId":"a6d788faa5e5","usersFollowedCount":1,"usersFollowedByCount":9653,"type":"SocialStats"}}}},"v":3,"b":"20260130-1005-root"}