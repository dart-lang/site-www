{% assign page_url_path = page.url | regexReplace: '/index$|/index\.html$|\.html$|/$' | prepend: '/*' | append: '/' -%}

<nav id="mainnav" class="always-dark-mode">
  <a href="/" class="brand" title="{{site.title}}">
    <img src="/assets/img/logo/logo-white-text.svg" alt="{{site.title}}">
  </a>
  <ul class="navbar">
    {%- comment -%}
      If you edit this list, also edit navigation-side.html (mobile).
    {% endcomment %}
    <li>
      <a href="/overview" class="nav-link
        {%- if page_url_path contains '/*/overview/' %} active {%- endif -%}">Overview</a>
    </li>
    <li>
      <a href="/docs" class="nav-link
        {%- if page_url_path contains '/*/docs/' or page_url_path contains '/*/language/' or page_url_path contains '/*/resources/' or page_url_path contains '/*/codelabs/' or page_url_path contains '/*/deprecated/' or page_url_path contains '/*/tools/' or page_url_path contains '/*/tutorials/' or page_url_path contains '/*/server/' or page_url_path contains '/*/web/' or page_url_path contains '/*/effective-dart/' or page_url_path contains '/*/libraries/' %} active {%- endif -%}">
        <span>Docs</span>
      </a>
    </li>
    <li>
      <a href="/community" class="nav-link
        {%- if page_url_path contains '/*/community/' %} active {%- endif -%}">Community</a>
    </li>
    {%- if page_url_path contains '/*/get-started/' -%}
    <li>
      <a href="/get-started" class="nav-link active">Learn</a>
    </li>
    {%- else -%}
    <li>
      <a href="/#try-dart" class="nav-link">Try Dart</a>
    </li>
    {% endif -%}
    <li>
      <a href="/get-dart" class="nav-link
        {%- if page_url_path contains '/*/get-dart/' %} active {%- endif -%}">Get Dart</a>
    </li>
  </ul>
  <div class="navbar-contents">
    <form action="/search/" class="site-header-search" id="cse-search-box">
      <input type="hidden" name="cx" value="011220921317074318178:_yy-tmb5t_i">
      <input type="hidden" name="ie" value="UTF-8">
      <input type="hidden" name="hl" value="en">
      <input
          class="site-header-searchfield search-field"
          type="search" name="q" id="search-main" autocomplete="off"
          placeholder="Search" aria-label="Search">
    </form>
    <a href="/search" id="fallback-search-button" class="icon-button" aria-label="Navigate to the docs search page." title="Navigate to the docs search page.">
      <span class="material-symbols" aria-hidden="true">search</span>
    </a>
    <div id="theme-switcher" class="dropdown">
      <button class="dropdown-button icon-button" title="Select a theme" aria-label="Select a theme" aria-expanded="false" aria-controls="site-switcher-menu">
        <span class="material-symbols" aria-hidden="true">routine</span>
      </button>
      <div class="dropdown-content" id="theme-menu">
        <div class="dropdown-menu">
          <ul role="listbox">
            <li>
              <button data-theme="light" title="Switch to light mode" aria-label="Switch to light mode" aria-selected="false">
                <span class="material-symbols" aria-hidden="true">light_mode</span>
                <span>Light</span>
              </button>
            </li>
            <li>
              <button data-theme="dark" title="Switch to dark mode" aria-label="Switch to dark mode" aria-selected="false">
                <span class="material-symbols" aria-hidden="true">dark_mode</span>
                <span>Dark</span>
              </button>
            </li>
            <li>
              <button data-theme="auto" title="Follow the device theme" aria-label="Follow the device theme" aria-selected="false">
                <span class="material-symbols" aria-hidden="true">night_sight_auto</span>
                <span>Automatic</span>
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <button
        id="menu-toggle"
        class="icon-button"
        type="button"
        aria-controls="sidenav"
        aria-label="Toggle side navigation menu."
        title="Toggle side navigation menu.">
      <span class="material-symbols" aria-hidden="true">menu</span>
      <span class="material-symbols" aria-hidden="true">close</span>
    </button>
  </div>
</nav>
